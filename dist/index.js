(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.Cppkies=b())})(this,function(){'use strict';function a(a){return a instanceof Function?a():a}function b(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function c(c,d,e,f){var g,h=c.toString(),i=null===d;i||(d=a(d),g=new RegExp(b(d),"g")),e=a(e);var j=/(\)[^{]*{)/,k=/}?$/;switch(i||g.test(h)||console.warn("Nothing to inject."),f){case"before":h=i?h.replace(j,"$1"+e):h.replace(g,""+e+d);break;case"replace":h=i?""+e:h.replace(g,""+e);break;case"after":h=i?h.replace(k,e+"$1"):h.replace(g,""+d+e);break;default:throw new Error("where Parameter must be \"before\", \"replace\" or \"after\"");}var m=new Function("return ("+h+")")();return m.prototype=c.prototype,m}function d(a,c){function b(){this.constructor=a}g(a,c),a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}var e,f={hooks:{},iconLink:"",buildingLink:"",buildingHooks:{},buildingHooksById:[],onLoad:[],Building:null,injectCode:null},g=function(a,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])},g(a,c)},h=function(a){function b(b,c,d,e,g,h,j,k,m){var n=a.call(this,b,c,d,e[0],e[1],g,0,h,j)||this,o=function(a){if(0<parseInt(a)){var b=Game.ObjectsById[a];b.canvas=l("rowCanvas"+a),b.ctx=b.canvas.getContext("2d"),AddEvent(b.canvas,"mouseover",function(){b.mouseOn=!0}),AddEvent(b.canvas,"mouseout",function(){b.mouseOn=!1}),AddEvent(b.canvas,"mousemove",function(a){var c=b.canvas.getBoundingClientRect();b.mousePos[0]=a.pageX-c.left,b.mousePos[1]=a.pageY-c.top})}};for(var p in Game.ObjectsById)o(p);var i=Cppkies.buildingLink+"",q=Cppkies.iconLink+"";k&&(Game.foolObjects[b]=k),m&&(Game.goldenCookieBuildingBuffs[b]=m),q&&f.buildingHooksById[n.id].tooltip.push(function(a,b){return this.locked?b:b.replace("background-position","background-image:url("+q+");background-position")}),Game.BuildStore(),i&&f.hooks.postBuildStore.push(function(){l("productIcon"+n.id).style.backgroundImage="url("+i+")",l("productIconOff"+n.id).style.backgroundImage="url("+i+")"}),Game.BuildStore(),n.canvas=l("rowCanvas"+n.id),n.ctx=n.canvas.getContext("2d"),n.context=n.ctx,n.pics=[];var r=document.createElement("div");return r.className="tinyProductIcon",r.id="mutedProduct"+n.id,r.style.display="none",i&&(r.style.backgroundImage="url("+i+")"),r.style.backgroundPositionX="-"+e[0]+"px",r.style.backgroundPositionY="-"+e[1]+"px",r.addEventListener("click",function(){n.mute(0),PlaySound(n.muted?"snd/clickOff.mp3":"snd/clickOn.mp3")}),AddEvent(n.canvas,"mouseover",function(){n.mouseOn=!0}),AddEvent(n.canvas,"mouseout",function(){n.mouseOn=!1}),AddEvent(n.canvas,"mousemove",function(a){var b=n.canvas.getBoundingClientRect();n.mousePos[0]=a.pageX-b.left,n.mousePos[1]=a.pageY-b.top}),l("buildingsMute").appendChild(r),Game.recalculateGains=1,n}return d(b,a),b}(Game.Object);window.Cppkies?(console.warn("Duplicate Cppkies"),e=window.Cppkies):(e=f,e.Building=h,e.injectCode=c,function(){return new Promise(function(a){var b=function(){return function(a,b,c){this.value=a,this.defValue=b,this.func=c}}(),d={},e=[new b("customMenu",[],function(){window.Game.UpdateMenu=c(window.Game.UpdateMenu,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tswitch (Game.onMenu) {\n\t\t\t\t\t\tcase \"prefs\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customOptionsMenu) Cppkies.hooks.customOptionsMenu[i]();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"stats\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customStatsMenu) Cppkies.hooks.customStatsMenu[i]();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"log\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customInfoMenu) Cppkies.hooks.customInfoMenu[i]();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tfor(const i in Cppkies.hooks.customMenu) Cppkies.hooks.customMenu[i]();\n\t\t\t\t\t","before")}),new b("customOptionsMenu",[]),new b("customStatsMenu",[]),new b("customInfoMenu",[]),new b("customLoad",[],function(){window.Game.LoadSave=c(window.Game.LoadSave,"if (Game.prefs.showBackupWarning==1)","\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customLoad) Cppkies.hooks.customLoad[i](); \n\t\t\t\t\t","before")}),new b("customReset",[],function(){window.Game.Reset=c(window.Game.Reset,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customReset) Cppkies.hooks.customReset[i](hard);\n\t\t\t\t\t","before")}),new b("customBeautify",[],function(){window.Beautify=c(window.Beautify,"return negative?'-'+output:output+decimal;","\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tlet ret = negative?'-'+output:output+decimal;\n\t\t\t\t\tfor(const i in Cppkies.hooks.customBeautify) {\n\t\t\t\t\t\tlet returnedValue = Cppkies.hooks.customBeautify[i](value, floats, ret)\n\t\t\t\t\t\tret = returnedValue ? returnedValue : ret\n\t\t\t\t\t};\n\t\t\t\t\treturn ret;\n\t\t\t\t\t","replace")}),new b("customTooltipDraw",[],function(){window.Game.tooltip.draw=c(window.Game.tooltip.draw,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customTooltipDraw) Cppkies.hooks.customTooltipDraw[i](from, text, origin);\n\t\t\t\t\t","before")}),new b("customTooltipUpdate",[],function(){window.Game.tooltip.update=c(window.Game.tooltip.update,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customTooltipUpdate) Cppkies.hooks.customTooltipUpdate[i]();\n\t\t\t\t\t","before")}),new b("customHowMuchPrestige",[],function(){window.Game.HowMuchPrestige=c(c(window.Game.HowMuchPrestige,"return","let ret =","replace"),";","\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customHowManyCookiesReset){ \n\t\t\t\t\t\treturnedValue = Cppkies.hooks.customHowManyCookiesReset[i](chips, ret);\n\t\t\t\t\t\tret = returnedValue ? returnedValue : ret\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t\t","after")}),new b("customHeavenlyMultiplier",[]),new b("UpdateAscensionModePrompt",[]),new b("customReincarnate",[]),new b("customAscend",[]),new b("customUpdateAscend",[]),new b("customBuildAscendTree",[]),new b("customAscend",[]),new b("customGrandmaPic",[],function(){window.Game.Objects.Grandma.art.pic=c(window.Game.Objects.Grandma.art.pic,"return choose(list)+'.png'","// Cppkies injection\n\t\t\t\t\tlist = list.concat(Cppkies.hooks.customGrandmaPic.map(val=>val() || null).filter(val=>val !== null))\n\t\t\t\t\t","before")}),new b("postBuildStore",[],function(){var a=window.Game.BuildStore.toString();window.Game.BuildStore=new Proxy(window.Game.BuildStore,{apply:function(a,b,c){for(var d in a.apply(b,c),f.hooks.postBuildStore)f.hooks.postBuildStore[d]()}}),window.Game.BuildStore.toString=function(){return a}})];e.forEach(function(a){d[a.value]=a.defValue,a.func&&a.func()}),window.Game.Loader.Load=c(window.Game.Loader.Load,"img.src=this.domain","img.src=(assets[i].indexOf('http') !== -1 ? \"\" : this.domain)","replace"),a(d)})}().then(function(a){e.hooks=a,window.Game.Note.call({},"Cppkies loaded!","",[32,17]),window.Game.Win("Third-party"),f.onLoad.forEach(function(a){return a()}),f.onLoad=new Proxy(f.onLoad,{set:function(a,b,c){return"length"!==b&&c(),!0}})}));var i=e;return i});
//# sourceMappingURL=index.js.map
