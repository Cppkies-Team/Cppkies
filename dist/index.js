(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.Cppkies=b())})(this,function(){'use strict';var r=Math.max;function a(a){return a instanceof Function?a():a}function b(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function c(c,d,e,f,g){void 0===g&&(g={});var h,j=c.toString(),k=null===d;k||(d=a(d),h="string"==typeof d?new RegExp(b(d),"g"):d),e=a(e);var l=/(\)[^{]*{)/,m=/(}?)$/;switch(k||h.test(j)||console.warn("Nothing to inject."),f){case"before":j=k?j.replace(l,"$1"+e):j.replace(h,""+e+d);break;case"replace":j=k?""+e:j.replace(h,""+e);break;case"after":j=k?j.replace(m,e+"$1"):j.replace(h,""+d+e);break;default:throw new Error("where Parameter must be \"before\", \"replace\" or \"after\"");}var n="";for(var o in g)n+="var "+o+" = globalThis.tempCtx."+o+"\n";globalThis.tempCtx=g;var i=new Function(n+"globalThis.tempCtx = null\nreturn ("+j+")")();return i.prototype=c.prototype,i}function d(a){return a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()}function e(){Z.mods={},Z.foreign=aa,Z.saveVer=0,Z.exists=!0}function f(a){return Z.foreign.buildings[a.name]||$}function g(a){return Z.foreign.upgrades[a.name]||_}function h(){return Z=new Y("cppkiesSave").store,Z.exists||e(),Z}function i(a,c){function b(){this.constructor=a}ba(a,c),a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}function j(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})}function k(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;k;)try{if(e=1,h&&(i=2&c[0]?h["return"]:c[0]?h["throw"]||((i=h["return"])&&i.call(h),0):h.next)&&!(i=i.call(h,c[1])).done)return i;switch((h=0,i)&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return k.label++,{value:c[1],done:!1};case 5:k.label++,h=c[1],c=[0];continue;case 7:c=k.ops.pop(),k.trys.pop();continue;default:if((i=k.trys,!(i=0<i.length&&i[i.length-1]))&&(6===c[0]||2===c[0])){k=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){k.label=c[1];break}if(6===c[0]&&k.label<i[1]){k.label=i[1],i=c;break}if(i&&k.label<i[2]){k.label=i[2],k.ops.push(c);break}i[2]&&k.ops.pop(),k.trys.pop();continue;}c=b.call(a,k)}catch(a){c=[6,a],h=0}finally{e=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,h,i,j,k={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return j={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(j[Symbol.iterator]=function(){return this}),j}function l(a,b){da[a]=b}function m(a){if(ea.includes(a))throw new Error("Recursive alias");return(ea.push(a),a in da)?m(da[a]):(ea=[],a)}function n(a,b,c,d,e){return new Promise(function(f){c[0]instanceof Array||(c=[c]),c=c;var g={};for(var h in c)for(var i in c[h]){if(c[h][i]=c[h][i].toString().toLowerCase(),!(c[h][i]in b))throw new Error("Invalid icon name");g[c[h][i]]=[parseInt(i),parseInt(h)]}var j=document.createElement("canvas").getContext("2d"),k=new Image;k.src=a,k.crossOrigin="Anonymous",k.addEventListener("load",function(){for(var a in j.canvas.width=e[0],j.canvas.height=e[1],g)j.drawImage(k,g[a][0]*d[0],g[a][1]*d[1],d[0],d[1],b[a][0]*d[0],b[a][1]*d[1],d[0],d[1]);j.canvas.toBlob(function(a){f(URL.createObjectURL(a))})})})}function o(a){var b=[new s("tooltip",function(){a.tooltip=c(c(a.tooltip,"return","let ret = ","replace"),null,"\n//Cppkies injection\n\t\tfor(const i in Cppkies.buildingHooks[\""+a.name+"\"].tooltip) {\n\t\t\tconst tempRet = Cppkies.buildingHooks[\""+a.name+"\"].tooltip[i].call(this, ret)\n\t\t\tret = tempRet || ret\n\t\t}\n\t\treturn ret","after")})],d={};b.forEach(function(a){d[a.value]=a.defValue,a.func&&a.func()}),na.buildingHooks[a.name]=d}function p(a){return"fortune"===a.tier}function q(){na.hooks.customGetIcon.push(function(a,b,c){return na.customTiers.forEach(function(a){a.keyName===b.toString()&&a.iconLink&&(c[2]=a.iconLink)}),c},function(a,b,c){return na.customBuildings.forEach(function(b){b.name===a&&b.iconLink&&(c[2]=b.iconLink)}),c})}var s=function(){return function(a,b){this.value=a,this.func=b,this.defValue=[]}}(),t={PATH_SEPARATOR:".",TARGET:Symbol("target"),UNSUBSCRIBE:Symbol("unsubscribe")};var u={withMutableMethods:a=>a instanceof Date||a instanceof Set||a instanceof Map||a instanceof WeakSet||a instanceof WeakMap,withoutMutableMethods:a=>("object"==typeof a?null===a:"function"!=typeof a)||a instanceof RegExp},v=Array.isArray,w=a=>"symbol"==typeof a;const{PATH_SEPARATOR:x}=t;var y={after:(a,b)=>v(a)?a.slice(b.length):""===b?a:a.slice(b.length+1),concat:(a,b)=>v(a)?(a=a.slice(),b&&a.push(b),a):b&&void 0!==b.toString?(""!==a&&(a+=x),w(b)?a+b.toString():a+b):a,initial:a=>{if(v(a))return a.slice(0,-1);if(""===a)return a;const b=a.lastIndexOf(x);return-1===b?"":a.slice(0,b)},last:a=>{if(v(a))return a[a.length-1]||"";if(""===a)return a;const b=a.lastIndexOf(x);return-1===b?a:a.slice(b+1)},walk:(a,b)=>{if(v(a))a.forEach(a=>b(a));else if(""!==a){let c=0,d=a.indexOf(x);if(-1===d)b(a);else for(;c<a.length;)-1===d&&(d=a.length),b(a.slice(c,d)),c=d+1,d=a.indexOf(x,c)}}},z=(a,b,c)=>a.isUnsubscribed||b.ignoreSymbols&&w(c)||b.ignoreUnderscores&&"_"===c.charAt(0)||"ignoreKeys"in b&&b.ignoreKeys.includes(c);var A=class{constructor(a){this._equals=a,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return void 0===this._descriptorCache&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(a){const b=this._getDescriptorCache();let c=b.get(a);return void 0===c&&(c={},b.set(a,c)),c}_getOwnPropertyDescriptor(a,b){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(a,b);const c=this._getProperties(a);let d=c[b];return void 0===d&&(d=Reflect.getOwnPropertyDescriptor(a,b),c[b]=d),d}getProxy(a,b,c){if(this.isUnsubscribed)return a;this._pathCache.set(a,b);let d=this._proxyCache.get(a);return void 0===d&&(d=new Proxy(a,c),this._proxyCache.set(a,d)),d}getPath(a){return this.isUnsubscribed?void 0:this._pathCache.get(a)}isDetached(a,b){return y.walk(this.getPath(a),a=>{b&&(b=b[a])}),!Object.is(a,b)}defineProperty(a,b,c){return!!Reflect.defineProperty(a,b,c)&&(this.isUnsubscribed||(this._getProperties(a)[b]=c),!0)}setProperty(a,b,c,d,e){if(!this._equals(e,c)||!(b in a)){const e=this._getOwnPropertyDescriptor(a,b);return void 0!==e&&"set"in e?Reflect.set(a,b,c,d):Reflect.set(a,b,c)}return!0}deleteProperty(a,b,c){if(Reflect.deleteProperty(a,b)){if(!this.isUnsubscribed){const d=this._getDescriptorCache().get(a);d&&(delete d[b],this._pathCache.delete(c))}return!0}return!1}isSameDescriptor(c,a,d){const e=this._getOwnPropertyDescriptor(a,d);return c!==void 0&&e!==void 0&&Object.is(c.value,e.value)&&(c.writable||!1)===(e.writable||!1)&&(c.enumerable||!1)===(e.enumerable||!1)&&(c.configurable||!1)===(e.configurable||!1)&&c.get===e.get&&c.set===e.set}isGetInvariant(a,b){const c=this._getOwnPropertyDescriptor(a,b);return c!==void 0&&!0!==c.configurable&&!0!==c.writable}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}},B=a=>"[object Object]"===toString.call(a);const C=()=>!0,D=(a,b)=>a.length!==b.length||a.some((a,c)=>b[c]!==a),E=(a,b)=>{if(a.size!==b.size)return!0;for(const c of a)if(!b.has(c))return!0;return!1},F=(a,b)=>{if(a.size!==b.size)return!0;let c;for(const[d,e]of a)if(c=b.get(d),c!==e||void 0===c&&!b.has(d))return!0;return!1},G=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),H=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),I=new Set(["has","toString","keys"]),J=new Set([...I].concat(["get"])),K={push:C,pop:C,shift:C,unshift:C,copyWithin:D,reverse:D,sort:D,splice:D,flat:D,fill:D},L={add:E,clear:E,delete:E},M={set:F,clear:F,delete:F},N=new Set([...G].concat([...H]).concat(Object.keys(K))),O=new Set([...I].concat(Object.keys(L))),P=new Set([...J].concat(Object.keys(M)));class Q{constructor(a,b,c){this._path=b,this._isChanged=!1,this._clonedCache=new Set,a instanceof WeakSet?this._weakValue=a.has(c[0]):a instanceof WeakMap?this._weakValue=a.get(c[0]):this.clone=b===void 0?a:this._shallowClone(a)}_shallowClone(a){let b;return B(a)?b={...a}:v(a)?b=[...a]:a instanceof Date?b=new Date(a):a instanceof Set?b=new Set(a):a instanceof Map&&(b=new Map(a)),this._clonedCache.add(b),b}preferredThisArg(a,b,c){const{name:d}=a;return R.isHandledMethod(c,d)?(v(c)?this._onIsChanged=K[d]:c instanceof Set?this._onIsChanged=L[d]:c instanceof Map&&(this._onIsChanged=M[d]),c):b}update(a,b,c){if(c!==void 0&&"length"!==b){let d=this.clone;y.walk(y.after(a,this._path),a=>{this._clonedCache.has(d[a])||(d[a]=this._shallowClone(d[a])),d=d[a]}),d[b]=c}this._isChanged=!0}isChanged(a,b,c){return a instanceof Date?!b(this.clone.valueOf(),a.valueOf()):a instanceof WeakSet?this._weakValue!==a.has(c[0]):a instanceof WeakMap?this._weakValue!==a.get(c[0]):this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,a)}}class R{constructor(){this.stack=[]}static isHandledType(a){return B(a)||v(a)||u.withMutableMethods(a)}static isHandledMethod(a,b){return B(a)?G.has(b):v(a)?N.has(b):a instanceof Set?O.has(b):a instanceof Map?P.has(b):u.withMutableMethods(a)}get isCloning(){return 0!==this.stack.length}start(a,b,c){this.stack.push(new Q(a,b,c))}update(a,b,c){this.stack[this.stack.length-1].update(a,b,c)}preferredThisArg(a,b,c){return this.stack[this.stack.length-1].preferredThisArg(a,b,c)}isChanged(a,b,c,d){return this.stack[this.stack.length-1].isChanged(a,b,c,d)}stop(){return this.stack.pop().clone}}var S=R;const{TARGET:T,UNSUBSCRIBE:U}=t,V={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1},W=(a,b,c={})=>{c={...V,...c};const d=Symbol("ProxyTarget"),{equals:e,isShallow:f,ignoreDetached:g}=c,h=new A(e),i=new S,j=(b,d,e,f)=>{z(h,c,d)||g&&h.isDetached(b,a)||k(h.getPath(b),d,e,f)},k=(a,c,d,e,f)=>{i.isCloning?i.update(a,c,d):b(y.concat(a,c),e,d,f)},l={get(b,e,i){if(w(e)){if(e===d||e===T)return b;if(e===U&&!h.isUnsubscribed&&0===h.getPath(b).length)return h.unsubscribe(),b}const j=u.withMutableMethods(b)?Reflect.get(b,e):Reflect.get(b,e,i);return u.withoutMutableMethods(j)||"constructor"===e||f&&!S.isHandledMethod(b,e)||z(h,c,e)||h.isGetInvariant(b,e)||g&&h.isDetached(b,a)?j:h.getProxy(j,y.concat(h.getPath(b),e),l)},set(a,b,c,f){if(c){const a=c[d];void 0!==a&&(c=a)}const g=a[d]||a,i=g[b],k=b in a;return!!h.setProperty(g,b,c,f,i)&&(e(i,c)&&k||j(a,b,i,c),!0)},defineProperty(a,b,c){if(!h.isSameDescriptor(c,a,b)){if(!h.defineProperty(a,b,c))return!1;j(a,b,void 0,c.value)}return!0},deleteProperty(a,b){if(!Reflect.has(a,b))return!0;const c=Reflect.get(a,b);return!!h.deleteProperty(a,b,c)&&(j(a,b,c),!0)},apply(a,b,c){const f=b[d]||b;if(h.isUnsubscribed)return Reflect.apply(a,f,c);if(S.isHandledType(f)){const d=y.initial(h.getPath(a));i.start(f,d,c);const g=Reflect.apply(a,i.preferredThisArg(a,b,f),c),j=i.isChanged(f,e,c),m=i.stop();return j&&(i.isCloning?k(y.initial(d),y.last(d),m,f,a.name):k(d,"",m,f,a.name)),S.isHandledType(g)&&S.isHandledMethod(f,a.name)?h.getProxy(g,d,l):g}return Reflect.apply(a,b,c)}},m=h.getProxy(a,c.pathAsArray?[]:"",l);return b=b.bind(m),m};W.target=a=>a[T]||a,W.unsubscribe=a=>a[U]||a;var X,Y=function(){function a(a){var b=this;this.name=a,this.updateValues(a),this.store||(this.store={}),this.store=W(this.store,function(){b.writeValues()})}return a.prototype.updateValues=function(a){this.store=JSON.parse(localStorage.getItem(a))},a.prototype.writeValues=function(){localStorage.setItem(this.name,JSON.stringify(this.store))},a}(),Z=null,$={amount:0,bought:0,free:0,totalCookies:0,level:0,muted:0,minigameSave:""},_={bought:!1,unlocked:!1},aa={buildings:{},upgrades:{}},ba=function(a,c){return ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])},ba(a,c)},ca=function(){return ca=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},ca.apply(this,arguments)},da={},ea=[],fa={"3d":[0,21],milestone1:[0,22],milestone2:[0,23],milestone3:[0,24],krumblor:[0,25],level1:[0,26],level2:[0,27]},ga=function(a){function b(b,c,d,e,g,h,j,k,l,n){var p=this;0!==e[0]&&console.warn("All icon sheets must follow an order, see https://cppkies.js.org/#/CommonProblems#IconOrder"),0!==g[1]&&console.warn("All big icon sheets must follow an order, see https://cppkies.js.org/#/CommonProblems#IconOrder"),p=a.call(this,b,c,d,g[0],e[1],h,0,j,k)||this,na.customBuildings.push(p),o(p);var q=function(a){if(0>=parseInt(a))return"continue";var b=Game.ObjectsById[a];if(b.canvas=window.l("rowCanvas"+a),!b.canvas)return"continue";if(b.ctx=b.canvas.getContext("2d"),b.canvas.addEventListener("mouseover",function(){b.mouseOn=!0}),b.canvas.addEventListener("mouseout",function(){b.mouseOn=!1}),b.canvas.addEventListener("mousemove",function(a){var c=b.canvas.getBoundingClientRect();b.mousePos[0]=a.pageX-c.left,b.mousePos[1]=a.pageY-c.top}),b.minigame&&b.minigameLoaded){var c=b.minigame.save();b.minigame.launch(),b.minigame.load(c)}};for(var r in Game.ObjectsById)q(r);p.buildingLink=g[2]||na.buildingLink+"",p.iconLink=m(e[2]||na.iconLink+""),l&&(Game.foolObjects[b]=l),n&&(Game.goldenCookieBuildingBuffs[b]=n),p.iconLink&&na.buildingHooks[p.name].tooltip.push(function(a){return p.locked?a:a.replace("background-position","background-image:url("+p.iconLink+");background-position")}),Game.BuildStore(),p.buildingLink&&na.hooks.postBuildStore.push(function(){window.l("productIcon"+p.id).style.backgroundImage="url("+p.buildingLink+")",window.l("productIconOff"+p.id).style.backgroundImage="url("+p.buildingLink+")"}),Game.BuildStore(),p.canvas=window.l("rowCanvas"+p.id),p.ctx=p.canvas.getContext("2d"),p.pics=[];var s=document.createElement("div");s.className="tinyProductIcon",s.id="mutedProduct"+p.id,s.style.display="none",p.buildingLink&&(s.style.backgroundImage="url("+p.buildingLink+")"),s.style.backgroundPositionX="-"+e[0]+"px",s.style.backgroundPositionY="-"+e[1]+"px",s.addEventListener("click",function(){p.mute(0),window.PlaySound(p.muted?"snd/clickOff.mp3":"snd/clickOn.mp3")}),window.AddEvent(p.canvas,"mouseover",function(){p.mouseOn=!0}),window.AddEvent(p.canvas,"mouseout",function(){p.mouseOn=!1}),p.canvas.addEventListener("mousemove",function(a){var b=p.canvas.getBoundingClientRect();p.mousePos[0]=a.pageX-b.left,p.mousePos[1]=a.pageY-b.top}),window.l("buildingsMute").appendChild(s);var t=f(p);for(var r in t)p[r]=t[r];return Game.recalculateGains=1,p}return i(b,a),b}(Game.Object),ha=function(a){function b(b,c,d,e,f){void 0===f&&(f=function(){});var h=this;e[2]||(e[2]=na.iconLink+""),e[2]=m(e[2]),h=a.call(this,b,"function"==typeof c?"":c,"function"==typeof d?0:d,"function"==typeof e?[0,0]:e,f)||this,"function"==typeof c&&(h.descFunc=c),"function"==typeof d&&(h.priceFunc=d),"function"==typeof e&&(h.iconFunction=e),na.customUpgrades.push(h);var j=g(h);for(var k in j)h[k]=j[k];return h}return i(b,a),b}(Game.Upgrade),ia=function(a){function b(b,c,d,e,f,g,h){void 0===g&&(g=["Legacy"]),void 0===h&&(h=function(){});var i=a.call(this,b,c,d,e,h)||this;return i.pool="prestige",i.posX=f[0],i.posY=f[1],i.parents=g.map(function(a){return Game.Upgrades[a]||Game.UpgradesById[a]}),Game.PrestigeUpgrades.push(i),Game.UpgradePositions[i.id]=f,i}return i(b,a),b}(ha),ja=function(a){function b(b,c,e,f){var g=Math.min,h=a.call(this,b,d(e.plural)+" are <b>twice</b> as efficient.<q>"+c+"</q>",e.basePrice*Game.Tiers[f].price,Game.GetIcon(e.name,f))||this;return h.tier=f,Game.SetTier(e.name,f),h.buildingTie1=e,p(h)&&(e.fortune=h),"number"==typeof f&&(h.order=100*(e.id+1)+f),h.order-=75*r(0,g(e.id-4,3)),h}return i(b,a),b}(ha),ka=function(a){function b(b,c,e,f){var g=this,h=e.id-1;return 1===h?h="grandma":h+=" grandmas",g=a.call(this,b,"Grandmas are <b>twice</b> as efficient."+d(e.plural)+" gain <b>+1% CpS</b> per "+h+".<q>"+c+"</q>",e.basePrice*Game.Tiers[2].price,[10,9],Game.Objects.Grandma.redraw)||this,e.grandma=g,g.buildingTie=e,Game.GrandmaSynergies.push(g.name),f&&na.hooks.customGrandmaPic.push(function(){if(g.bought)return f}),g}return i(b,a),b}(ha),la=function(a){function b(b,c,e,f,g){var h=this;return c=d(e.plural)+" gain <b>+5% CpS</b> per "+f.name.toLowerCase()+".<br>"+d(f.plural)+" gain <b>+0.1% CpS</b> per \n\t\t\t"+e.name.toLowerCase()+".<q>"+c+"</q>",h=a.call(this,b,c,(10*e.basePrice+1*f.basePrice)*Game.Tiers[g].price,Game.GetIcon(e.name,g))||this,h.tier=g,h.buildingTie1=e,h.buildingTie2=f,e.synergies.push(h),f.synergies.push(h),h}return i(b,a),b}(ha),ma=function(){return function(a,b,c,d,e,f,g,h,i){void 0===d&&(d=!1),void 0===e&&(e="auto"),void 0===f&&(f=null),void 0===g&&(g=null),void 0===h&&(h=null),void 0===i&&(i="auto"),this.name=a,this.color=c,this.upgrades=[],this.special=d,null===f&&(this.unlock=-1),"number"==typeof f&&(this.unlock=f),(!1===d&&null===f||"auto"===f)&&(this.unlock=Game.Tiers[parseInt(this.keyName)-1].unlock+50),"number"==typeof g&&(this.achievUnlock=g),(!1===d&&null===g||"auto"===g)&&(this.achievUnlock=Game.Tiers[parseInt(this.keyName)-1].achievUnlock+50),h&&(this.req=h),this.price="auto"===e?1e8*Game.Tiers[Object.keys(Game.Tiers).filter(function(a){return!isNaN(parseInt(a))}).length.toString()].price:e,this.iconRow=b[1],b[2]&&(this.iconLink=b[2]),this.keyName="auto"===i?d?a:(Object.keys(Game.Tiers).filter(function(a){return!isNaN(parseInt(a))}).length+1).toString():i,Game.Tiers[this.keyName]=this,na.customTiers.push(this)}}(),na={hooks:null,iconLink:"",buildingLink:"",buildingHooks:{},buildingHooksById:[],customBuildings:[],customUpgrades:[],customTiers:[],save:h(),onLoad:[],Building:ga,Upgrade:ha,TieredUpgrade:ja,Tier:ma,HeavenlyUpgrade:ia,GrandmaSynergy:ka,SynergyUpgrade:la,injectCode:c,DEFAULT_ONBUY:function(){Game.UnlockTiered(this),this.amount>=Game.SpecialGrandmaUnlock&&0<Game.Objects.Grandma.amount&&this.grandma&&Game.Unlock(this.grandma.name)},DEFAULT_CPS:function(a){return Game.GetTieredCpsMult(a)*Game.magicCpS(a.name)*a.baseCps},icons:{relinkColumn:function(a,b){return j(this,void 0,void 0,function(){var c,d,e,f;return k(this,function(g){switch(g.label){case 0:for(d in c=ca({},fa),Game.Tiers)c[Game.Tiers[d].name.toLowerCase()]=c[d.toString()]=[0,Game.Tiers[d].iconRow];return e=l,f=[a],[4,n(a,c,b,[48,48],[48,48*(Object.values(c).reduce(function(a,b){return r(a,b[1])},-Infinity)+1)])];case 1:return e.apply(void 0,f.concat([g.sent()])),[2];}})})},relinkRow:null}};window.Cppkies?X=window.Cppkies:(X=na,function(){return new Promise(function(a){var b={},d=[new s("customMenu",function(){Game.UpdateMenu=c(Game.UpdateMenu,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tswitch (Game.onMenu) {\n\t\t\t\t\t\tcase \"prefs\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customOptionsMenu) Cppkies.hooks.customOptionsMenu[i]()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase \"stats\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customStatsMenu) Cppkies.hooks.customStatsMenu[i]()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase \"log\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customInfoMenu) Cppkies.hooks.customInfoMenu[i]()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tfor(const i in Cppkies.hooks.customMenu) Cppkies.hooks.customMenu[i]()\n\t\t\t\t\t","before")}),new s("customOptionsMenu"),new s("customStatsMenu"),new s("customInfoMenu"),new s("customLoad",function(){Game.LoadSave=c(Game.LoadSave,"if (Game.prefs.showBackupWarning==1)","\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customLoad) Cppkies.hooks.customLoad[i]()\n\t\t\t\t\t","before")}),new s("customReset",function(){Game.Reset=c(Game.Reset,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customReset) Cppkies.hooks.customReset[i](hard)\n\t\t\t\t\t","before")}),new s("customGetIcon",function(){Game.GetIcon=c(Game.GetIcon,"return [col,Game.Tiers[tier].iconRow];","\n\t\t\t\t\t// Cppkies Injection\n\t\t\t\t\tlet icon = [col, Game.Tiers[tier].iconRow]\n\t\t\t\t\tfor(const i in Cppkies.hooks.customGetIcon) icon = Cppkies.hooks.customGetIcon[i](type, tier, icon) || icon\n\t\t\t\t\treturn icon\n","replace")}),new s("postBuildStore",function(){Game.BuildStore=c(Game.BuildStore,null,";\nfor(const i in Cppkies.hooks.postBuildStore) Cppkies.hooks.postBuildStore[i]()","after")}),new s("customGrandmaPic",function(){Game.Objects.Grandma.art.pic=c(Game.Objects.Grandma.art.pic,"return choose(list)+'.png'","// Cppkies injection\n\t\t\t\t\tlist = list.concat(Cppkies.hooks.customGrandmaPic.map(val=> val()).filter(val => val))\n\t\t\t\t\t","before")})];d.forEach(function(a){var c;b[a.value]=a.defValue,null===(c=a.func)||void 0===c?void 0:c.call(a)}),Game.Loader.Load=c(Game.Loader.Load,"img.src=this.domain","\n\t\t\t// Cppkies injection\n\t\t\timg.src = (assets[i].indexOf('http') !== -1 ? \"\" : this.domain)\n","replace"),Game.Objects.Cursor.buyFunction=c(Game.Objects.Cursor.buyFunction,"Game.Unlock('Octillion fingers');","\n \t\t\t// Cppkies injection\n\t\t\tfor(const i in this.tieredUpgrades) {\n\t\t\t\tif (isNaN(parseInt(i))) break\n\t\t\t\tif (this.amount >= Game.Tiers[this.tieredUpgrades[i].tier].unlock - 50) this.tieredUpgrades[i].unlock()\n\t\t\t}\n","after"),a(b)})}().then(function(a){X.hooks=a,Game.Notify("Cppkies loaded!","",[32,17]),Game.Win("Third-party"),na.onLoad.forEach(function(a){return a()}),na.onLoad=new Proxy(na.onLoad,{set:function(a,b,c){return"length"!==b&&c(),!0}}),window.CPPKIES_ONLOAD||(window.CPPKIES_ONLOAD=[]),window.CPPKIES_ONLOAD.forEach(function(a){return a()}),window.CPPKIES_ONLOAD=new Proxy(na.onLoad,{set:function(a,b,c){return"length"!==b&&c(),!0}}),q(),window.Cppkies=X}));var oa=X;return oa});
//# sourceMappingURL=index.js.map
