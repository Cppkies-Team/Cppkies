{"version":3,"file":"index.js","sources":["../src/helpers.ts","../src/saves.ts","../src/buildings.ts","../src/injects/generic.ts","../src/vars.ts","../src/upgrade.ts","../node_modules/on-change/lib/constants.js","../node_modules/on-change/lib/is-array.js","../node_modules/on-change/lib/is-symbol.js","../node_modules/on-change/lib/path.js","../node_modules/on-change/index.js","../src/index.ts","../src/lib/localstorage.ts","../src/heavenlyupgrade.ts","../src/injects/basegame.ts"],"sourcesContent":["/**\n * The common type for a value, can be either the value or a function that returns a value with the type.\n */\nexport type CommonValue<T> = T | (() => T)\n/**\n * A helper function which converts a common value to a value\n * @param value The common value to convert\n * @helper\n */\nexport function getValue<T>(value: CommonValue<T>): T {\n\tif (value instanceof Function) return value()\n\treturn value\n}\n/**\n * A helper function which escapes special regex characters.\n * @param str The string to escape\n * @helper\n */\nexport function escapeRegExp(str: string): string {\n\t// eslint-disable-next-line no-useless-escape\n\treturn str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\")\n}\n/**\n * A helper function which replaces(or appends) code in a function, returning the new function, and it's eval free!\n * @param func The source function\n * @param source What to replace, can be null for slicing\n * @param target What to put instead of (or before/after) the source\n * @param where Where to insert or replace your injection\n * @helper\n */\nexport function injectCode(\n\tfunc: Function,\n\tsource: CommonValue<string> | CommonValue<RegExp> | null,\n\ttarget: CommonValue<string>,\n\twhere: \"before\" | \"replace\" | \"after\"\n): Function {\n\tlet newFuncStr = func.toString()\n\tconst sliceMode = source === null\n\tlet regex: RegExp\n\tif (!sliceMode) {\n\t\tsource = getValue(source)\n\t\tif (typeof source === \"string\")\n\t\t\tregex = new RegExp(escapeRegExp(source), \"g\")\n\t\telse regex = source\n\t}\n\ttarget = getValue(target)\n\tconst findStart = /(\\)[^{]*{)/\n\tconst findEnd = /(}?)$/\n\tif (!sliceMode && !regex.test(newFuncStr)) console.warn(\"Nothing to inject.\")\n\tswitch (where) {\n\t\tcase \"before\":\n\t\t\tif (sliceMode) newFuncStr = newFuncStr.replace(findStart, `$1${target}`)\n\t\t\telse newFuncStr = newFuncStr.replace(regex, `${target}${source}`)\n\t\t\tbreak\n\t\tcase \"replace\":\n\t\t\tif (sliceMode) newFuncStr = `${target}`\n\t\t\telse newFuncStr = newFuncStr.replace(regex, `${target}`)\n\t\t\tbreak\n\t\tcase \"after\":\n\t\t\tif (sliceMode) newFuncStr = newFuncStr.replace(findEnd, `${target}$1`)\n\t\t\telse newFuncStr = newFuncStr.replace(regex, `${source}${target}`)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tthrow new Error('where Parameter must be \"before\", \"replace\" or \"after\"')\n\t}\n\tconst newFunc = new Function(`return (${newFuncStr})`)()\n\tnewFunc.prototype = func.prototype\n\treturn newFunc\n}\n","import master from \"./vars\"\nimport { Building } from \"./buildings\"\nimport { Upgrade } from \"./upgrade\"\n\n/**\n * The save type for Cppkies\n */\nexport interface SaveType {\n\tsaveVer: number\n\tmods: Record<string, ModSave>\n\tforeign: ModSave\n\texists: boolean\n}\n/**\n * The save type for a mod\n */\nexport interface ModSave {\n\tbuildings: Record<string, BuildingSave>\n\tupgrades: Record<string, UpgradeSave>\n}\n/**\n * The save type for a building\n */\nexport interface BuildingSave {\n\tamount: number\n\tbought: number\n\tfree: number\n\ttotalCookies: number\n\tlevel: number\n\tmuted: number\n\tminigameSave: string\n}\n/**\n * The save type for an upgrade\n */\nexport interface UpgradeSave {\n\tunlocked: boolean\n\tbought: boolean\n}\n/**\n * The default save file for buildings\n */\nexport const DEFAULT_BUILDING_SAVE: BuildingSave = {\n\tamount: 0,\n\tbought: 0,\n\tfree: 0,\n\ttotalCookies: 0,\n\tlevel: 0,\n\tmuted: 0,\n\tminigameSave: \"\",\n}\n/**\n * The default save for an upgrade\n */\nexport const DEFAULT_UPGRADE_SAVE: UpgradeSave = {\n\tbought: false,\n\tunlocked: false,\n}\nexport const DEFAULT_MOD_SAVE: ModSave = {\n\tbuildings: {},\n\tupgrades: {},\n}\n/**\n * Creates a save for Cppkies\n */\nexport function initSave(): void {\n\tmaster.save.mods = {}\n\tmaster.save.foreign = DEFAULT_MOD_SAVE\n\tmaster.save.saveVer = 0\n\tmaster.save.exists = true\n}\n/**\n * Loads the building save data\n * @param building The building to load savedata for\n */\nexport function loadBuilding(building: Building): BuildingSave {\n\t//Use names because ID conflicts\n\treturn master.save.foreign.buildings[building.name] || DEFAULT_BUILDING_SAVE\n}\n/**\n * Saves a building\n * @param building The building to save\n */\nexport function saveBuilding({\n\tamount,\n\tbought,\n\tfree,\n\ttotalCookies,\n\tlevel,\n\tmuted,\n\tminigameSave,\n\tname,\n}: Building): void {\n\tmaster.save.foreign.buildings[name] = {\n\t\tamount,\n\t\tbought,\n\t\tfree,\n\t\ttotalCookies,\n\t\tlevel,\n\t\tmuted,\n\t\tminigameSave,\n\t}\n}\n/**\n * Loads an upgrade\n * @param upgrade The upgrade to load\n */\nexport function loadUpgrade(upgrade: Upgrade): UpgradeSave {\n\treturn master.save.foreign.upgrades[upgrade.name] || DEFAULT_UPGRADE_SAVE\n}\n/**\n * Saves an upgrade\n * @param upgrade The upgrade to save\n */\nexport function saveUpgrade(upgrade: Upgrade): void {\n\tmaster.save.foreign.upgrades[upgrade.name] = {\n\t\tunlocked: upgrade.unlocked,\n\t\tbought: upgrade.bought,\n\t}\n}\n/**\n * Loads everything\n * (Doesn't get called on Game.Load since Cppkies save isn't saved in the normal one)\n */\nexport function loadAll(): void {\n\tfor (const i in master.customBuildings) {\n\t\tconst me = master.customBuildings[i]\n\t\twindow.Game.Objects[me.name] = { ...me, ...loadBuilding(me) }\n\t}\n\tfor (const i in master.customUpgrades) {\n\t\tconst me = master.customUpgrades[i]\n\t\twindow.Game.Upgrades[me.name] = { ...me, ...loadUpgrade(me) }\n\t}\n}\n/**\n * Saves everything\n */\nexport function saveAll(): void {\n\tfor (const i in master.customBuildings)\n\t\tsaveBuilding(master.customBuildings[i])\n\tfor (const i in master.customUpgrades) saveUpgrade(master.customUpgrades[i])\n}\n","import gameType, {\n\tFoolBuilding,\n\tAddEvent,\n\tPlaySound,\n\tl,\n\tIcon,\n} from \"./gameType\"\nimport master from \"./vars\"\nimport { injectCode } from \"./helpers\"\nimport { Injection } from \"./injects/generic\"\nimport { loadBuilding } from \"./saves\"\n\ndeclare let Game: gameType\ndeclare const l: l\ndeclare const AddEvent: AddEvent\ndeclare const PlaySound: PlaySound\ninterface Art {\n\tbase?: string\n\txV?: number\n\tyV?: number\n\tw?: number\n\th?: number\n\trows?: number\n\tx?: number\n\ty?: number\n\tpic?: string\n\tbg?: string\n\tframes?: number\n}\n\n/**\n * Creates the hooks for a building\n * @param building The building to create hooks for\n */\nexport function createHooks(building: Building | gameType[\"Object\"]): void {\n\tconst injections: Injection[] = [\n\t\tnew Injection(\"tooltip\", () => {\n\t\t\tbuilding.tooltip = injectCode(\n\t\t\t\tinjectCode(building.tooltip, \"return\", \"let ret = \", \"replace\"),\n\t\t\t\tnull,\n\t\t\t\t`\\n//Cppkies injection\n\t\tfor(const i in Cppkies.buildingHooks[\"${building.name}\"].tooltip) {\n\t\t\tconst tempRet = Cppkies.buildingHooks[\"${building.name}\"].tooltip[i].call(this, ret)\n\t\t\tret = tempRet || ret\n\t\t}\n\t\treturn ret`,\n\t\t\t\t\"after\"\n\t\t\t)\n\t\t}),\n\t]\n\tconst dummy: Record<string, Function[]> = {}\n\tinjections.forEach(inject => {\n\t\tdummy[inject.value] = inject.defValue\n\t\tif (inject.func) inject.func()\n\t})\n\tmaster.buildingHooks[building.name] = dummy\n}\n\n/**\n * The building class for creating new buildings\n */\nexport class Building extends Game.Object {\n\t/**\n\t * Creates a new building and creates the hooks for it\n\t * @param name The name of the building\n\t * @param commonName Various additional string for the building, split by |:  The name of the building, then in plural, how the building produced the cookies, the effect from sugar lumps, then in plural\n\t * @param desc The description of the building\n\t * @param icon The icon for the building (Only the column matters)\n\t * @param bigIcon The icon that shows up in store (Only the row matters)\n\t * @param art The art for the building\n\t * @param cpsFunc The function to calculate CPS\n\t * @param buyFunction The function which gets called when it's bought\n\t * @param foolObject The fool building to display during business day\n\t * @param buildingSpecial The building special and building debuff\n\t */\n\tconstructor(\n\t\tname: string,\n\t\tcommonName: string,\n\t\tdesc: string,\n\t\ticon: Icon,\n\t\tbigIcon: Icon,\n\t\tart: Art,\n\t\tcpsFunc: (me: Building) => number,\n\t\tbuyFunction: () => void,\n\t\tfoolObject: FoolBuilding,\n\t\tbuildingSpecial: [string, string]\n\t) {\n\t\tsuper(\n\t\t\tname,\n\t\t\tcommonName,\n\t\t\tdesc,\n\t\t\tbigIcon[1],\n\t\t\ticon[0],\n\t\t\tart,\n\t\t\t0, //Game automatically calculates Price and BaseCps\n\t\t\tcpsFunc,\n\t\t\tbuyFunction\n\t\t)\n\t\tmaster.customBuildings.push(this)\n\t\t// Create hooks\n\t\tcreateHooks(this)\n\t\t//Manually relink canvases and contexts because Orteil made it so new buildings break the old canvas and context links\n\t\tfor (const i in Game.ObjectsById) {\n\t\t\tif (parseInt(i) > 0) {\n\t\t\t\tconst me = Game.ObjectsById[i]\n\t\t\t\tme.canvas = l(`rowCanvas${i}`)\n\t\t\t\tme.ctx = me.canvas.getContext(\"2d\")\n\t\t\t\t//Relink their events too\n\t\t\t\tAddEvent(me.canvas, \"mouseover\", () => {\n\t\t\t\t\tme.mouseOn = true\n\t\t\t\t})\n\t\t\t\tAddEvent(me.canvas, \"mouseout\", () => {\n\t\t\t\t\tme.mouseOn = false\n\t\t\t\t})\n\t\t\t\tAddEvent(me.canvas, \"mousemove\", e => {\n\t\t\t\t\tconst box = me.canvas.getBoundingClientRect()\n\t\t\t\t\tme.mousePos[0] = e.pageX - box.left\n\t\t\t\t\tme.mousePos[1] = e.pageY - box.top\n\t\t\t\t})\n\t\t\t\t//Restore minigames\n\t\t\t\tif (me.minigame && me.minigameLoaded) {\n\t\t\t\t\tconst save = me.minigame.save()\n\t\t\t\t\tme.minigame.launch()\n\t\t\t\t\tme.minigame.load(save)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst localBuildingLink = bigIcon[2] || master.buildingLink + \"\",\n\t\t\tlocalIconLink = icon[2] || master.iconLink + \"\"\n\t\t// This is the name, description, and icon used during Business Season\n\t\tif (foolObject) Game.foolObjects[name] = foolObject\n\t\t// The name of this building's golden cookie buff and debuff\n\t\tif (buildingSpecial) Game.goldenCookieBuildingBuffs[name] = buildingSpecial\n\n\t\t//CCSE.ReplaceBuilding(name)\n\n\t\tif (localIconLink) {\n\t\t\tmaster.buildingHooks[this.name].tooltip.push((ret: string) =>\n\t\t\t\tthis.locked\n\t\t\t\t\t? ret\n\t\t\t\t\t: ret.replace(\n\t\t\t\t\t\t\t\"background-position\",\n\t\t\t\t\t\t\t`background-image:url(${localIconLink});background-position`\n\t\t\t\t\t  )\n\t\t\t)\n\t\t}\n\n\t\t/*if (CCSE.save.Buildings[name]) {\n\t\t\tvar saved = CCSE.save.Buildings[name]\n\t\t\tme.amount = saved.amount\n\t\t\tme.bought = saved.bought\n\t\t\tme.totalCookies = saved.totalCookies\n\t\t\tme.level = saved.level\n\t\t\tme.muted = saved.muted\n\t\t\tme.free = saved.free ? saved.free : 0 // Left this out earlier, can't expect it to be there\n\t\t\tme.minigameSave = saved.minigameSave\n\n\t\t\tGame.BuildingsOwned += me.amount\n\t\t} else {\n\t\t\tvar saved = {}\n\t\t\tsaved.amount = 0\n\t\t\tsaved.bought = 0\n\t\t\tsaved.totalCookies = 0\n\t\t\tsaved.level = 0\n\t\t\tsaved.muted = 0\n\t\t\tsaved.minigameSave = \"\"\n\n\t\t\tCCSE.save.Buildings[name] = saved\n\t\t}*/\n\n\t\tGame.BuildStore()\n\t\tif (localBuildingLink) {\n\t\t\tmaster.hooks.postBuildStore.push(() => {\n\t\t\t\tl(\n\t\t\t\t\t`productIcon${this.id}`\n\t\t\t\t).style.backgroundImage = `url(${localBuildingLink})`\n\t\t\t\tl(\n\t\t\t\t\t`productIconOff${this.id}`\n\t\t\t\t).style.backgroundImage = `url(${localBuildingLink})`\n\t\t\t})\n\t\t}\n\t\tGame.BuildStore()\n\t\tthis.canvas = l(`rowCanvas${this.id}`)\n\t\tthis.ctx = this.canvas.getContext(\"2d\")\n\t\tthis.context = this.ctx\n\t\tthis.pics = []\n\t\tconst muteDiv = document.createElement(\"div\")\n\t\tmuteDiv.className = \"tinyProductIcon\"\n\t\tmuteDiv.id = `mutedProduct${this.id}`\n\t\tmuteDiv.style.display = \"none\"\n\t\tif (localBuildingLink)\n\t\t\tmuteDiv.style.backgroundImage = `url(${localBuildingLink})`\n\t\tmuteDiv.style.backgroundPositionX = `-${icon[0]}px`\n\t\tmuteDiv.style.backgroundPositionY = `-${icon[1]}px`\n\t\tmuteDiv.addEventListener(\"click\", () => {\n\t\t\tthis.mute(0)\n\t\t\tPlaySound(this.muted ? \"snd/clickOff.mp3\" : \"snd/clickOn.mp3\")\n\t\t})\n\n\t\tAddEvent(this.canvas, \"mouseover\", () => {\n\t\t\tthis.mouseOn = true\n\t\t})\n\t\tAddEvent(this.canvas, \"mouseout\", () => {\n\t\t\tthis.mouseOn = false\n\t\t})\n\t\tAddEvent(this.canvas, \"mousemove\", e => {\n\t\t\tconst box = this.canvas.getBoundingClientRect()\n\t\t\tthis.mousePos[0] = e.pageX - box.left\n\t\t\tthis.mousePos[1] = e.pageY - box.top\n\t\t})\n\t\tl(\"buildingsMute\").appendChild(muteDiv)\n\t\t// Load the save stuff\n\t\tconst loadProps = loadBuilding(this)\n\t\tfor (const i in loadProps) this[i] = loadProps[i]\n\t\tGame.recalculateGains = 1\n\t}\n}\n/**\n * The recommended function to pass in building CpsFunc\n * @param me Itself\n */\nexport const defaultCps = (me: Building): number =>\n\tGame.GetTieredCpsMult(me) * Game.magicCpS(me.name) * me.baseCps\n/**\n * The reccomended function to pass in building BuyFunc\n */\nexport const defaultOnBuy = function(): void {\n\tGame.UnlockTiered(this)\n\tif (\n\t\tthis.amount >= Game.SpecialGrandmaUnlock &&\n\t\tGame.Objects[\"Grandma\"].amount > 0 &&\n\t\tthis.grandma\n\t)\n\t\tGame.Unlock(this.grandma.name)\n}\n","export class Injection {\n\tpublic defValue: Function[] = []\n\tconstructor(public value: string, public func?: Function) {}\n}\n","import gameType, { Cppkies as CppkiesType } from \"./gameType\"\n\ndeclare global {\n\tinterface Window {\n\t\tGame: gameType\n\t\tCppkies: CppkiesType\n\t}\n}\n//The *main* variable\nconst master: CppkiesType = {\n\thooks: {},\n\ticonLink: \"\",\n\tbuildingLink: \"\",\n\tbuildingHooks: {},\n\tbuildingHooksById: [],\n\tcustomBuildings: [],\n\tcustomUpgrades: [],\n\tsave: null,\n\tonLoad: [],\n\tBuilding: null,\n\tUpgrade: null,\n\tHeavenlyUpgrade: null,\n\tinjectCode: null,\n\tDEFAULT_ONBUY: null,\n\tDEFAULT_CPS: null,\n}\nexport default master\n","import gameType, { Icon } from \"./gameType\"\nimport master from \"./vars\"\nimport { loadUpgrade } from \"./saves\"\nimport { CommonValue } from \"./helpers\"\ndeclare let Game: gameType\n\n/**\n * The class for upgrades\n */\nexport class Upgrade extends Game.Upgrade {\n\t/**\n\t * Creates an upgrade\n\t * @param name The name of the upgrade\n\t * @param desc The description of it\n\t * @param price The price of it\n\t * @param icon  The icon for it\n\t * @param buyFunc The function that gets called when you buy the upgrade\n\t */\n\tconstructor(\n\t\tname: string,\n\t\tdesc: CommonValue<string>,\n\t\tprice: CommonValue<number>,\n\t\ticon: CommonValue<Icon>,\n\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\tbuyFunc: () => void = (): void => {}\n\t) {\n\t\tif (!icon[2]) icon[2] = master.iconLink + \"\"\n\t\tsuper(\n\t\t\tname,\n\t\t\ttypeof desc === \"function\" ? \"\" : desc,\n\t\t\ttypeof price === \"function\" ? 0 : price,\n\t\t\ttypeof icon === \"function\" ? [0, 0] : icon,\n\t\t\tbuyFunc\n\t\t)\n\t\tif (typeof desc === \"function\") this.descFunc = desc\n\t\tif (typeof price === \"function\") this.priceFunc = price\n\t\tif (typeof icon === \"function\") this.iconFunction = icon\n\t\tmaster.customUpgrades.push(this)\n\t\tconst loadProps = loadUpgrade(this)\n\t\tfor (const i in loadProps) this[i] = loadProps[i]\n\t}\n}\n","module.exports = {\n\tPATH_SEPARATOR: '.',\n\tTARGET: Symbol('target'),\n\tUNSUBSCRIBE: Symbol('unsubscribe')\n};\n","'use strict';\n\nmodule.exports = Array.isArray;\n","'use strict';\n\nmodule.exports = value => typeof value === 'symbol';\n","'use strict';\n\nconst {PATH_SEPARATOR} = require('./constants');\nconst isArray = require('./is-array');\nconst isSymbol = require('./is-symbol');\n\nmodule.exports = {\n\tafter: (path, subPath) => {\n\t\tif (isArray(path)) {\n\t\t\treturn path.slice(subPath.length);\n\t\t}\n\n\t\tif (subPath === '') {\n\t\t\treturn path;\n\t\t}\n\n\t\treturn path.slice(subPath.length + 1);\n\t},\n\tconcat: (path, key) => {\n\t\tif (isArray(path)) {\n\t\t\tpath = path.slice();\n\n\t\t\tif (key) {\n\t\t\t\tpath.push(key);\n\t\t\t}\n\n\t\t\treturn path;\n\t\t}\n\n\t\tif (key && key.toString !== undefined) {\n\t\t\tif (path !== '') {\n\t\t\t\tpath += PATH_SEPARATOR;\n\t\t\t}\n\n\t\t\tif (isSymbol(key)) {\n\t\t\t\treturn path + 'Symbol(' + key.description + ')';\n\t\t\t}\n\n\t\t\treturn path + key;\n\t\t}\n\n\t\treturn path;\n\t},\n\tinitial: path => {\n\t\tif (isArray(path)) {\n\t\t\treturn path.slice(0, -1);\n\t\t}\n\n\t\tif (path === '') {\n\t\t\treturn path;\n\t\t}\n\n\t\tconst index = path.lastIndexOf(PATH_SEPARATOR);\n\n\t\tif (index === -1) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn path.slice(0, index);\n\t},\n\twalk: (path, callback) => {\n\t\tif (isArray(path)) {\n\t\t\tpath.forEach(callback);\n\t\t} else if (path !== '') {\n\t\t\tlet position = 0;\n\t\t\tlet index = path.indexOf(PATH_SEPARATOR);\n\n\t\t\tif (index === -1) {\n\t\t\t\tcallback(path);\n\t\t\t} else {\n\t\t\t\twhile (position < path.length) {\n\t\t\t\t\tif (index === -1) {\n\t\t\t\t\t\tindex = path.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback(path.slice(position, index));\n\n\t\t\t\t\tposition = index + 1;\n\t\t\t\t\tindex = path.indexOf(PATH_SEPARATOR, position);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n","'use strict';\n\nconst {TARGET, UNSUBSCRIBE} = require('./lib/constants');\nconst path = require('./lib/path');\nconst isArray = require('./lib/is-array');\nconst isSymbol = require('./lib/is-symbol');\n\nconst isPrimitive = value => value === null || (typeof value !== 'object' && typeof value !== 'function');\n\nconst isBuiltinWithoutMutableMethods = value => value instanceof RegExp || value instanceof Number;\n\nconst isBuiltinWithMutableMethods = value => value instanceof Date;\n\nconst isSameDescriptor = (a, b) => {\n\treturn a !== undefined && b !== undefined &&\n\t\tObject.is(a.value, b.value) &&\n\t\t(a.writable || false) === (b.writable || false) &&\n\t\t(a.enumerable || false) === (b.enumerable || false) &&\n\t\t(a.configurable || false) === (b.configurable || false);\n};\n\nconst shallowClone = value => {\n\tif (isArray(value)) {\n\t\treturn value.slice();\n\t}\n\n\treturn {...value};\n};\n\nconst onChange = (object, onChange, options = {}) => {\n\tconst proxyTarget = Symbol('ProxyTarget');\n\tlet inApply = false;\n\tlet changed = false;\n\tlet applyPath;\n\tlet applyPrevious;\n\tlet isUnsubscribed = false;\n\tconst equals = options.equals || Object.is;\n\tlet propCache = new WeakMap();\n\tlet pathCache = new WeakMap();\n\tlet proxyCache = new WeakMap();\n\n\tconst handleChange = (changePath, property, previous, value) => {\n\t\tif (isUnsubscribed) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!inApply) {\n\t\t\tonChange(path.concat(changePath, property), value, previous);\n\t\t\treturn;\n\t\t}\n\n\t\tif (inApply && applyPrevious && previous !== undefined && value !== undefined && property !== 'length') {\n\t\t\tlet item = applyPrevious;\n\n\t\t\tif (changePath !== applyPath) {\n\t\t\t\tchangePath = path.after(changePath, applyPath);\n\n\t\t\t\tpath.walk(changePath, key => {\n\t\t\t\t\titem[key] = shallowClone(item[key]);\n\t\t\t\t\titem = item[key];\n\t\t\t\t});\n\t\t\t}\n\n\t\t\titem[property] = previous;\n\t\t}\n\n\t\tchanged = true;\n\t};\n\n\tconst getOwnPropertyDescriptor = (target, property) => {\n\t\tlet props = propCache !== null && propCache.get(target);\n\n\t\tif (props) {\n\t\t\tprops = props.get(property);\n\t\t}\n\n\t\tif (props) {\n\t\t\treturn props;\n\t\t}\n\n\t\tprops = new Map();\n\t\tpropCache.set(target, props);\n\n\t\tlet prop = props.get(property);\n\n\t\tif (!prop) {\n\t\t\tprop = Reflect.getOwnPropertyDescriptor(target, property);\n\t\t\tprops.set(property, prop);\n\t\t}\n\n\t\treturn prop;\n\t};\n\n\tconst invalidateCachedDescriptor = (target, property) => {\n\t\tconst props = propCache ? propCache.get(target) : undefined;\n\n\t\tif (props) {\n\t\t\tprops.delete(property);\n\t\t}\n\t};\n\n\tconst buildProxy = (value, path) => {\n\t\tif (isUnsubscribed) {\n\t\t\treturn value;\n\t\t}\n\n\t\tpathCache.set(value, path);\n\n\t\tlet proxy = proxyCache.get(value);\n\n\t\tif (proxy === undefined) {\n\t\t\tproxy = new Proxy(value, handler);\n\t\t\tproxyCache.set(value, proxy);\n\t\t}\n\n\t\treturn proxy;\n\t};\n\n\tconst unsubscribe = target => {\n\t\tisUnsubscribed = true;\n\t\tpropCache = null;\n\t\tpathCache = null;\n\t\tproxyCache = null;\n\n\t\treturn target;\n\t};\n\n\tconst ignoreProperty = property => {\n\t\treturn isUnsubscribed ||\n\t\t\t(options.ignoreSymbols === true && isSymbol(property)) ||\n\t\t\t(options.ignoreUnderscores === true && property.charAt(0) === '_') ||\n\t\t\t(options.ignoreKeys !== undefined && options.ignoreKeys.includes(property));\n\t};\n\n\tconst handler = {\n\t\tget(target, property, receiver) {\n\t\t\tif (property === proxyTarget || property === TARGET) {\n\t\t\t\treturn target;\n\t\t\t}\n\n\t\t\tif (property === UNSUBSCRIBE &&\n\t\t\t\tpathCache !== null &&\n\t\t\t\tpathCache.get(target) === '') {\n\t\t\t\treturn unsubscribe(target);\n\t\t\t}\n\n\t\t\tconst value = Reflect.get(target, property, receiver);\n\t\t\tif (\n\t\t\t\tisPrimitive(value) ||\n\t\t\t\tisBuiltinWithoutMutableMethods(value) ||\n\t\t\t\tproperty === 'constructor' ||\n\t\t\t\toptions.isShallow === true ||\n\t\t\t\tignoreProperty(property)\n\t\t\t) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\t// Preserve invariants\n\t\t\tconst descriptor = getOwnPropertyDescriptor(target, property);\n\t\t\tif (descriptor && !descriptor.configurable) {\n\t\t\t\tif (descriptor.set && !descriptor.get) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (descriptor.writable === false) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn buildProxy(value, path.concat(pathCache.get(target), property));\n\t\t},\n\n\t\tset(target, property, value, receiver) {\n\t\t\tif (value && value[proxyTarget] !== undefined) {\n\t\t\t\tvalue = value[proxyTarget];\n\t\t\t}\n\n\t\t\tconst ignore = ignoreProperty(property);\n\t\t\tconst previous = ignore ? null : Reflect.get(target, property, receiver);\n\t\t\tconst isChanged = !(property in target) || !equals(previous, value);\n\t\t\tlet result = true;\n\n\t\t\tif (isChanged) {\n\t\t\t\tresult = Reflect.set(target[proxyTarget] || target, property, value);\n\n\t\t\t\tif (!ignore && result) {\n\t\t\t\t\thandleChange(pathCache.get(target), property, previous, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tdefineProperty(target, property, descriptor) {\n\t\t\tlet result = true;\n\n\t\t\tif (!isSameDescriptor(descriptor, getOwnPropertyDescriptor(target, property))) {\n\t\t\t\tresult = Reflect.defineProperty(target, property, descriptor);\n\n\t\t\t\tif (result && !ignoreProperty(property) && !isSameDescriptor()) {\n\t\t\t\t\tinvalidateCachedDescriptor(target, property);\n\n\t\t\t\t\thandleChange(pathCache.get(target), property, undefined, descriptor.value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tdeleteProperty(target, property) {\n\t\t\tif (!Reflect.has(target, property)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst ignore = ignoreProperty(property);\n\t\t\tconst previous = ignore ? null : Reflect.get(target, property);\n\t\t\tconst result = Reflect.deleteProperty(target, property);\n\n\t\t\tif (!ignore && result) {\n\t\t\t\tinvalidateCachedDescriptor(target, property);\n\n\t\t\t\thandleChange(pathCache.get(target), property, previous);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tapply(target, thisArg, argumentsList) {\n\t\t\tconst compare = isBuiltinWithMutableMethods(thisArg);\n\n\t\t\tif (compare) {\n\t\t\t\tthisArg = thisArg[proxyTarget];\n\t\t\t}\n\n\t\t\tif (!inApply) {\n\t\t\t\tinApply = true;\n\n\t\t\t\tif (compare) {\n\t\t\t\t\tapplyPrevious = thisArg.valueOf();\n\t\t\t\t}\n\n\t\t\t\tif (isArray(thisArg) || toString.call(thisArg) === '[object Object]') {\n\t\t\t\t\tapplyPrevious = shallowClone(thisArg[proxyTarget]);\n\t\t\t\t}\n\n\t\t\t\tapplyPath = path.initial(pathCache.get(target));\n\n\t\t\t\tconst result = Reflect.apply(target, thisArg, argumentsList);\n\n\t\t\t\tinApply = false;\n\n\t\t\t\tif (changed || (compare && !equals(applyPrevious, thisArg.valueOf()))) {\n\t\t\t\t\thandleChange(applyPath, '', applyPrevious, thisArg[proxyTarget] || thisArg);\n\t\t\t\t\tapplyPrevious = null;\n\t\t\t\t\tchanged = false;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\treturn Reflect.apply(target, thisArg, argumentsList);\n\t\t}\n\t};\n\n\tconst proxy = buildProxy(object, options.pathAsArray === true ? [] : '');\n\tonChange = onChange.bind(proxy);\n\n\treturn proxy;\n};\n\nonChange.target = proxy => proxy[TARGET] || proxy;\nonChange.unsubscribe = proxy => proxy[UNSUBSCRIBE] || proxy;\n\nmodule.exports = onChange;\n","import { injectCode } from \"./helpers\"\nimport { main } from \"./injects/basegame\"\nimport gameType, { Cppkies as CppkiesType } from \"./gameType\"\nimport { Building, defaultCps, defaultOnBuy } from \"./buildings\"\nimport master from \"./vars\"\nimport { Upgrade } from \"./upgrade\"\nimport { initSave, SaveType, saveAll } from \"./saves\"\nimport LocalStorageWrapper from \"./lib/localstorage\"\nimport { HeavenlyUpgrade } from \"./heavenlyupgrade\"\nimport * as isProd from \"../isprod.json\"\ndeclare global {\n\tinterface Window {\n\t\tGame: gameType\n\t\tCppkies: CppkiesType\n\t}\n}\nlet CppkiesExport: CppkiesType\n//Check if Cppkies is already created\nif (window.Cppkies) {\n\t//If so, just reexport it\n\tCppkiesExport = window.Cppkies\n} else {\n\t//Set it to master, and set some stuff\n\tCppkiesExport = master\n\tCppkiesExport.Building = Building\n\tCppkiesExport.Upgrade = Upgrade\n\tCppkiesExport.HeavenlyUpgrade = HeavenlyUpgrade\n\tCppkiesExport.injectCode = injectCode\n\tCppkiesExport.DEFAULT_CPS = defaultCps\n\tCppkiesExport.DEFAULT_ONBUY = defaultOnBuy\n\t//Since we can't trust our data...\n\tmaster.save = (new LocalStorageWrapper(\"cppkiesSave\")\n\t\t.store as unknown) as SaveType\n\t//Create a save if it doesn't exist\n\tif (!master.save.exists) {\n\t\tinitSave()\n\t}\n\t//Inject maingame and create hooks\n\tmain().then((answer: Record<string, Function[]>) => {\n\t\tCppkiesExport.hooks = answer\n\t\twindow.Game.Notify(\"Cppkies loaded!\", \"\", [32, isProd.prod ? 17 : 21])\n\t\twindow.Game.Win(\"Third-party\")\n\t\t//Run all onLoad events\n\t\tmaster.onLoad.forEach(val => val())\n\t\t//Force all new onLoad events to run\n\t\tmaster.onLoad = new Proxy(master.onLoad, {\n\t\t\tset: (_target, key, value): boolean => {\n\t\t\t\tif (key !== \"length\") value()\n\t\t\t\treturn true\n\t\t\t},\n\t\t})\n\t\t//Force manual addition since in-module injects b r e a k\n\t\twindow.Cppkies = CppkiesExport\n\t})\n}\nexport default CppkiesExport\n","import onChange from \"on-change\"\n/**\n * The localStotrage wrapper class\n */\nexport default class LocalStorageWrapper {\n\tstore: Record<string | number, unknown>\n\t/**\n\t * The wrapper class for localStorage\n\t * @param name The name of the key\n\t */\n\tconstructor(private name: string) {\n\t\tthis.updateValues(name)\n\t\tif (!this.store) this.store = {}\n\t\tthis.store = onChange(this.store, () => {\n\t\t\tthis.writeValues()\n\t\t})\n\t}\n\t/**\n\t * Reads the values from the name\n\t * @param name The key to read from\n\t */\n\tupdateValues(name: string): void {\n\t\tthis.store = JSON.parse(localStorage.getItem(name))\n\t}\n\t/**\n\t * Writes store to localstorage\n\t */\n\twriteValues(): void {\n\t\tlocalStorage.setItem(this.name, JSON.stringify(this.store))\n\t}\n}\n","import { Upgrade } from \"./upgrade\"\nimport { Icon } from \"./gameType\"\nimport gameType from \"./gameType\"\nimport { CommonValue } from \"./helpers\"\ndeclare let Game: gameType\n/**\n * The class for heavenly upgrades\n */\nexport class HeavenlyUpgrade extends Upgrade {\n\t/**\n\t * Creates a heavenly upgrade\n\t * @param name The name for it\n\t * @param desc The description of it\n\t * @param price The price of in (in Heavenly Chips)\n\t * @param icon The icon for it\n\t * @param position The position of it on the heavenly map screen\n\t * @param parents It's parents, can be mixed ID's with names\n\t * @param buyFunc The function which gets called on being bought\n\t */\n\tconstructor(\n\t\tname: string,\n\t\tdesc: CommonValue<string>,\n\t\tprice: CommonValue<number>,\n\t\ticon: CommonValue<Icon>,\n\t\tposition: [number, number],\n\t\tpublic parents: (string | number)[] = [\"Legacy\"],\n\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\tbuyFunc: () => void = (): void => {}\n\t) {\n\t\tsuper(name, desc, price, icon, buyFunc)\n\t\tthis.pool = \"prestige\"\n\t\tthis.posX = position[0]\n\t\tthis.posY = position[1]\n\t\tfor (const i in this.parents) {\n\t\t\tconst me = this.parents[i]\n\t\t\t//Try both by name and by id\n\t\t\tthis.parents[i] = Game.Upgrades[me] || Game.UpgradesById[me]\n\t\t}\n\t\tGame.PrestigeUpgrades.push(this)\n\t\tGame.UpgradePositions[this.id] = position\n\t}\n}\n","import { injectCode } from \"../helpers\"\nimport Game from \"../gameType\"\nimport { Injection } from \"./generic\"\n\ndeclare global {\n\tinterface Window {\n\t\tGame: Game\n\t\tBeautify: Function\n\t}\n}\n/**\n * Creates the function hooks for base game\n * @returns A promise\n */\nexport function main(): Promise<{ [key: string]: Function[] }> {\n\treturn new Promise(resolve => {\n\t\tconst dummy = {}\n\t\tconst injections: Array<Injection> = [\n\t\t\t//// -- Custom menus -- ////\n\t\t\t/*\n\t\t\tHooks that allow you to add new stuff do the menu \n\n\t\t\tcustomOptionsMenu()\n\t\t\tAllows you to add entries to the options menu\n\n\t\t\tcustomStatsMenu()\n\t\t\tAllows you to add entries to the stats menu\n\n\t\t\tcustomInfoMenu()\n\t\t\tAllows you to add entries to the info menu\n\n\t\t\tcustomMenu()\n\t\t\tAllows you to add entries to all menus\n\t\t\t*/\n\t\t\tnew Injection(\"customMenu\", () => {\n\t\t\t\twindow.Game.UpdateMenu = injectCode(\n\t\t\t\t\twindow.Game.UpdateMenu,\n\t\t\t\t\tnull,\n\t\t\t\t\t`\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tswitch (Game.onMenu) {\n\t\t\t\t\t\tcase \"prefs\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customOptionsMenu) Cppkies.hooks.customOptionsMenu[i]();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"stats\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customStatsMenu) Cppkies.hooks.customStatsMenu[i]();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"log\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customInfoMenu) Cppkies.hooks.customInfoMenu[i]();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tfor(const i in Cppkies.hooks.customMenu) Cppkies.hooks.customMenu[i]();\n\t\t\t\t\t`,\n\t\t\t\t\t\"before\"\n\t\t\t\t)\n\t\t\t}),\n\t\t\tnew Injection(\"customOptionsMenu\"),\n\t\t\tnew Injection(\"customStatsMenu\"),\n\t\t\tnew Injection(\"customInfoMenu\"),\n\t\t\t//// -- Data manipulation -- ////\n\t\t\t/*\n\t\t\tGeneral Description\n\n\t\t\tcustomLoad() \n\t\t\tAllows you to execute a function on data load, useful for custom data loading\n\n\t\t\tcustomReset(hard)\n\t\t\tAllows you to execute a function on data load, useful for custom data resetting\n\t\t\thard: bool - whether or not this is a hard reset\n\t\t\t*/\n\t\t\tnew Injection(\"customLoad\", () => {\n\t\t\t\twindow.Game.LoadSave = injectCode(\n\t\t\t\t\twindow.Game.LoadSave,\n\t\t\t\t\t\"if (Game.prefs.showBackupWarning==1)\",\n\t\t\t\t\t`\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customLoad) Cppkies.hooks.customLoad[i](); \n\t\t\t\t\t`,\n\t\t\t\t\t\"before\"\n\t\t\t\t)\n\t\t\t}),\n\t\t\tnew Injection(\"customReset\", () => {\n\t\t\t\twindow.Game.Reset = injectCode(\n\t\t\t\t\twindow.Game.Reset,\n\t\t\t\t\tnull,\n\t\t\t\t\t`\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customReset) Cppkies.hooks.customReset[i](hard);\n\t\t\t\t\t`,\n\t\t\t\t\t\"before\"\n\t\t\t\t)\n\t\t\t}),\n\n\t\t\t//// -- Sugar Lump -- ////\n\t\t\t// TODO Rewrite Game.computeLumpType\n\t\t\t// TODO Cppkies.hooks.customComputeLumpType\n\t\t\t// TODO Cppkies.hooks.customDoLumps\n\t\t\t//// -- Economics -- ////\n\t\t\t// TODO Cppkies.hooks.customCps\n\t\t\t//// -- Shimmers -- ////\n\t\t\t// TODO everything shimmer related\n\t\t\t//// -- Prompts -- ////\n\t\t\t//Idk what here\n\t\t\t//// -- Menus -- ////\n\t\t\t// TODO Patch disabled buttons(?)\n\t\t\t//// -- Buildings -- ////\n\t\t\tnew Injection(\"postBuildStore\", () => {\n\t\t\t\twindow.Game.BuildStore = injectCode(\n\t\t\t\t\twindow.Game.BuildStore,\n\t\t\t\t\tnull,\n\t\t\t\t\t\";\\nfor(const i in Cppkies.hooks.postBuildStore) Cppkies.hooks.postBuildStore[i]()\",\n\t\t\t\t\t\"after\"\n\t\t\t\t)\n\t\t\t}),\n\t\t\tnew Injection(\"customGrandmaPic\", () => {\n\t\t\t\twindow.Game.Objects.Grandma.art.pic = injectCode(\n\t\t\t\t\twindow.Game.Objects.Grandma.art.pic,\n\t\t\t\t\t\"return choose(list)+'.png'\",\n\t\t\t\t\t`// Cppkies injection\n\t\t\t\t\tlist = list.concat(Cppkies.hooks.customGrandmaPic.map(val=>val() || null).filter(val=>val !== null))\n\t\t\t\t\t`,\n\t\t\t\t\t\"before\"\n\t\t\t\t)\n\t\t\t}),\n\t\t]\n\t\tinjections.forEach(inject => {\n\t\t\tdummy[inject.value] = inject.defValue\n\t\t\tif (inject.func) inject.func()\n\t\t})\n\t\t//Misc stuff\n\t\twindow.Game.Loader.Load = injectCode(\n\t\t\twindow.Game.Loader.Load,\n\t\t\t\"img.src=this.domain\",\n\t\t\t\"img.src=(assets[i].indexOf('http') !== -1 ? \\\"\\\" : this.domain)\",\n\t\t\t\"replace\"\n\t\t)\n\t\tresolve(dummy)\n\t})\n}\n"],"names":["getValue","value","Function","escapeRegExp","str","replace","injectCode","func","source","target","where","regex","newFuncStr","toString","sliceMode","RegExp","findStart","findEnd","test","console","warn","Error","newFunc","prototype","loadBuilding","building","master","save","foreign","buildings","name","DEFAULT_BUILDING_SAVE","loadUpgrade","upgrade","upgrades","DEFAULT_UPGRADE_SAVE","createHooks","injections","Injection","tooltip","dummy","forEach","inject","defValue","buildingHooks","hooks","iconLink","buildingLink","buildingHooksById","customBuildings","customUpgrades","onLoad","Building","Upgrade","HeavenlyUpgrade","DEFAULT_ONBUY","DEFAULT_CPS","amount","bought","free","totalCookies","level","muted","minigameSave","unlocked","DEFAULT_MOD_SAVE","commonName","desc","icon","bigIcon","art","cpsFunc","buyFunction","foolObject","buildingSpecial","_super","push","_this","i","parseInt","me_1","Game","ObjectsById","canvas","l","ctx","getContext","AddEvent","mouseOn","e","box","getBoundingClientRect","mousePos","pageX","left","pageY","top","minigame","minigameLoaded","launch","load","localBuildingLink","localIconLink","foolObjects","goldenCookieBuildingBuffs","ret","locked","BuildStore","postBuildStore","id","style","backgroundImage","context","pics","muteDiv","document","createElement","className","display","backgroundPositionX","backgroundPositionY","addEventListener","mute","PlaySound","appendChild","loadProps","recalculateGains","__extends","Object","price","buyFunc","descFunc","priceFunc","iconFunction","PATH_SEPARATOR","TARGET","Symbol","UNSUBSCRIBE","Array","isArray","require$$0","after","path","subPath","slice","length","concat","key","isSymbol","description","initial","index","lastIndexOf","walk","callback","position","indexOf","isPrimitive","isBuiltinWithoutMutableMethods","Number","isBuiltinWithMutableMethods","Date","isSameDescriptor","a","b","is","writable","enumerable","configurable","shallowClone","onChange","object","options","proxyTarget","applyPath","applyPrevious","inApply","changed","isUnsubscribed","equals","propCache","WeakMap","pathCache","proxyCache","handleChange","changePath","property","previous","item","getOwnPropertyDescriptor","props","get","Map","set","prop","Reflect","invalidateCachedDescriptor","delete","buildProxy","proxy","Proxy","handler","unsubscribe","ignoreProperty","ignoreSymbols","ignoreUnderscores","charAt","ignoreKeys","includes","receiver","isShallow","descriptor","ignore","isChanged","result","defineProperty","deleteProperty","has","apply","thisArg","argumentsList","compare","valueOf","call","pathAsArray","bind","CppkiesExport","updateValues","store","writeValues","LocalStorageWrapper","JSON","parse","localStorage","getItem","setItem","stringify","parents","pool","posX","posY","me","Upgrades","UpgradesById","PrestigeUpgrades","UpgradePositions","window","Cppkies","GetTieredCpsMult","magicCpS","baseCps","UnlockTiered","SpecialGrandmaUnlock","Objects","grandma","Unlock","exists","mods","saveVer","Promise","resolve","UpdateMenu","LoadSave","Reset","Grandma","pic","Loader","Load","then","answer","Notify","Win","val","_target"],"mappings":"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"}