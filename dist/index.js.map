{"version":3,"file":"index.js","sources":["../src/spritesheets.ts","../src/helpers.ts","../src/saves.ts","../src/buildings.ts","../src/injects/postInject.ts","../src/injects/generic.ts","../node_modules/on-change/lib/constants.js","../node_modules/on-change/lib/is-array.js","../node_modules/on-change/lib/is-symbol.js","../node_modules/on-change/lib/path.js","../node_modules/on-change/index.js","../src/index.ts","../src/lib/localstorage.ts","../src/upgrade.ts","../src/tiers.ts","../src/vars.ts","../src/injects/basegame.ts"],"sourcesContent":["import { Icon } from \"./gameType\"\n\n// Resolve aliases\n/**\n * Currently defined alias\n */\nexport const aliases: Record<string, string> = {}\nlet steppedAliases: string[] = []\n/**\n * Creates an alias from an old name to a new one\n * @param oldName The current name\n * @param aliasName The new, alias name\n */\nexport function alias(oldName: string, aliasName: string): void {\n\taliases[oldName] = aliasName\n}\n\n/**\n * Deletes an alias from the name\n * @param name The name to remove an alias from\n */\nexport function unalias(name: string): void {\n\tdelete alias[name]\n}\n\n/**\n * Resolves an aliased name\n * @param name The name to be resolved\n */\nexport function resolveAlias(name: string): string {\n\tif (steppedAliases.includes(name)) throw new Error(\"Recursive alias\")\n\tsteppedAliases.push(name)\n\tif (name in aliases) return resolveAlias(aliases[name])\n\tsteppedAliases = []\n\treturn name\n}\n\n/**\n * A universal version of Icon which is not restricted to CC\n */\nexport type UniversalIcon = [number, number]\n/**\n * Relocates the icons on an iconsheets\n * @param link The link to the original file\n * @param icons The definition of iconName: iconPosition\n * @param matrix The matrix of icon names\n * @param iconSize The size of a single icon\n * @param size The size of the new spritesheet\n */\nfunction relink(\n\tlink: string,\n\ticons: Record<string, UniversalIcon>,\n\tmatrix: string[][] | string[],\n\ticonSize: [number, number],\n\tsize: [number, number]\n): Promise<string> {\n\treturn new Promise(resolve => {\n\t\tif (!(matrix[0] instanceof Array)) matrix = [matrix as string[]]\n\t\tmatrix = matrix as string[][]\n\t\t//Collect references\n\t\tconst references: Record<string, Icon> = {}\n\t\tfor (const y in matrix)\n\t\t\tfor (const x in matrix[y]) {\n\t\t\t\tmatrix[y][x] = matrix[y][x].toString().toLowerCase()\n\t\t\t\tif (!(matrix[y][x] in icons)) throw new Error(\"Invalid icon name\")\n\t\t\t\treferences[matrix[y][x]] = [parseInt(x), parseInt(y)]\n\t\t\t}\n\t\t//Draw new column\n\t\tconst buffer = document.createElement(\"canvas\").getContext(\"2d\")\n\t\tconst img = new Image()\n\t\timg.src = link\n\t\timg.crossOrigin = \"Anonymous\"\n\t\timg.addEventListener(\"load\", (): void => {\n\t\t\tbuffer.canvas.width = size[0]\n\t\t\tbuffer.canvas.height = size[1]\n\t\t\tfor (const i in references)\n\t\t\t\tbuffer.drawImage(\n\t\t\t\t\timg,\n\t\t\t\t\treferences[i][0] * iconSize[0],\n\t\t\t\t\treferences[i][1] * iconSize[1],\n\t\t\t\t\ticonSize[0],\n\t\t\t\t\ticonSize[1],\n\t\t\t\t\ticons[i][0] * iconSize[0],\n\t\t\t\t\ticons[i][1] * iconSize[1],\n\t\t\t\t\ticonSize[0],\n\t\t\t\t\ticonSize[1]\n\t\t\t\t)\n\t\t\tbuffer.canvas.toBlob((blob: Blob) => {\n\t\t\t\tresolve(URL.createObjectURL(blob))\n\t\t\t})\n\t\t})\n\t})\n}\n/**\n * Additional icons which aren't defined with tiers\n */\nconst extraColumnIcons: Record<string, UniversalIcon> = {\n\t\"3d\": [0, 21],\n\tmilestone1: [0, 22],\n\tmilestone2: [0, 23],\n\tmilestone3: [0, 24],\n\tkrumblor: [0, 25],\n\tlevel1: [0, 26],\n\tlevel2: [0, 27],\n}\n/**\n * Relocates the icons for a column and automatically aliases it\n * @param link The link to the original, unordered iconsheet\n * @param matrix The matrix of\n */\nexport async function relinkColumn(\n\tlink: string,\n\tmatrix: string[] | string[][]\n): Promise<void> {\n\tconst columnIcons: Record<string, UniversalIcon> = { ...extraColumnIcons }\n\t// Automatically generate normal tiers\n\tfor (const i in window.Game.Tiers)\n\t\tcolumnIcons[window.Game.Tiers[i].name.toLowerCase()] = columnIcons[\n\t\t\ti.toString()\n\t\t] = [0, window.Game.Tiers[i].iconRow]\n\talias(\n\t\tlink,\n\t\tawait relink(\n\t\t\tlink,\n\t\t\tcolumnIcons,\n\t\t\tmatrix,\n\t\t\t[48, 48],\n\t\t\t[\n\t\t\t\t48,\n\t\t\t\t(Object.values(columnIcons).reduce(\n\t\t\t\t\t(acc, value) => Math.max(acc, value[1]),\n\t\t\t\t\t-Infinity\n\t\t\t\t) +\n\t\t\t\t\t1) *\n\t\t\t\t\t48,\n\t\t\t]\n\t\t)\n\t)\n}\n\n/**\n * Additional icons which aren't defined with buildings\n */\nconst extraRowIcons: Record<string, UniversalIcon> = {\n\tresearch: [9, 0],\n\tcookie: [10, 0],\n\tmouse: [11, 0],\n\tmulticursor: [12, 0],\n}\n/**\n * Relocates the icons for a row and automatically aliases it\n * @param link The link to the original, unordered iconsheet\n * @param matrix The matrix of\n */\nexport async function relinkRow(\n\tlink: string,\n\tmatrix: string[] | string[][]\n): Promise<void> {\n\tconst rowIcons: Record<string, UniversalIcon> = { ...extraRowIcons }\n\t// Automatically generate normal buildings\n\tfor (const i in window.Game.ObjectsById)\n\t\trowIcons[window.Game.ObjectsById[i].single.toLowerCase()] = rowIcons[i] = [\n\t\t\twindow.Game.Tiers[i].icon,\n\t\t\t0,\n\t\t]\n\talias(\n\t\tlink,\n\t\tawait relink(\n\t\t\tlink,\n\t\t\trowIcons,\n\t\t\tmatrix,\n\t\t\t[48, 48],\n\t\t\t[\n\t\t\t\t(Object.values(rowIcons).reduce(\n\t\t\t\t\t(acc, value) => Math.max(acc, value[0]),\n\t\t\t\t\t-Infinity\n\t\t\t\t) +\n\t\t\t\t\t1) *\n\t\t\t\t\t48,\n\t\t\t\t48,\n\t\t\t]\n\t\t)\n\t)\n}\n","/**\n * The common type for a value, can be either the value or a function that returns a value with the type.\n */\nexport type CommonValue<T> = T | (() => T)\n/**\n * A helper function which converts a common value to a value\n * @param value The common value to convert\n * @helper\n */\nexport function getValue<T>(value: CommonValue<T>): T {\n\tif (value instanceof Function) return value()\n\treturn value\n}\n/**\n * A helper function which escapes special regex characters.\n * @param str The string to escape\n * @helper\n */\nexport function escapeRegExp(str: string): string {\n\t// eslint-disable-next-line no-useless-escape\n\treturn str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\")\n}\n/**\n * A helper function which replaces(or appends) code in a function, returning the new function, and it's eval free!\n * @param func The source function\n * @param source What to replace, can be null for slicing\n * @param target What to put instead of (or before/after) the source\n * @param where Where to insert or replace your injection\n * @param context The optional context to use\n * @helper\n */\nexport function injectCode(\n\tfunc: Function,\n\tsource: CommonValue<string> | CommonValue<RegExp> | null,\n\ttarget: CommonValue<string>,\n\twhere: \"before\" | \"replace\" | \"after\",\n\tcontext: object = {}\n): Function {\n\tlet newFuncStr = func.toString()\n\tconst sliceMode = source === null\n\tlet regex: RegExp\n\tif (!sliceMode) {\n\t\tsource = getValue(source)\n\t\tif (typeof source === \"string\")\n\t\t\tregex = new RegExp(escapeRegExp(source), \"g\")\n\t\telse regex = source\n\t}\n\ttarget = getValue(target)\n\tconst findStart = /(\\)[^{]*{)/\n\tconst findEnd = /(}?)$/\n\tif (!sliceMode && !regex.test(newFuncStr)) console.warn(\"Nothing to inject.\")\n\tswitch (where) {\n\t\tcase \"before\":\n\t\t\tif (sliceMode) newFuncStr = newFuncStr.replace(findStart, `$1${target}`)\n\t\t\telse newFuncStr = newFuncStr.replace(regex, `${target}${source}`)\n\t\t\tbreak\n\t\tcase \"replace\":\n\t\t\tif (sliceMode) newFuncStr = `${target}`\n\t\t\telse newFuncStr = newFuncStr.replace(regex, `${target}`)\n\t\t\tbreak\n\t\tcase \"after\":\n\t\t\tif (sliceMode) newFuncStr = newFuncStr.replace(findEnd, `${target}$1`)\n\t\t\telse newFuncStr = newFuncStr.replace(regex, `${source}${target}`)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tthrow new Error('where Parameter must be \"before\", \"replace\" or \"after\"')\n\t}\n\tlet contextStr = \"\"\n\tfor (const i in context) {\n\t\tcontextStr += `var ${i} = globalThis.tempCtx.${i}\\n`\n\t}\n\tglobalThis.tempCtx = context\n\tconst newFunc = new Function(\n\t\t`${contextStr}globalThis.tempCtx = null\\nreturn (${newFuncStr})`\n\t)()\n\tnewFunc.prototype = func.prototype\n\treturn newFunc\n}\n/**\n * Applies all props to an object via mutating\n * @param targObj The object which will be mutated\n * @param srcObj The object which properties will be applied to the target object\n */\n\nexport function applyAllProps(targObj, srcObj): void {\n\tfor (const i in srcObj) targObj[i] = srcObj\n}\n\n/**\n * Converts a string to sentense case, AKA first letter upper, all next lower\n * @param strign\n */\nexport function toSentenseCase(strign: string): string {\n\treturn strign.charAt(0).toUpperCase() + strign.slice(1).toLowerCase()\n}\n","import master from \"./vars\"\nimport { Building } from \"./buildings\"\nimport { Upgrade } from \"./upgrade\"\nimport { applyAllProps } from \"./helpers\"\nimport LocalStorageWrapper from \"./lib/localstorage\"\n/**\n * The save type for Cppkies\n */\nexport interface SaveType {\n\tsaveVer: number\n\tmods: Record<string, ModSave>\n\tforeign: ModSave\n\texists: boolean\n}\n/**\n * The save type for a mod\n */\nexport interface ModSave {\n\tbuildings: Record<string, BuildingSave>\n\tupgrades: Record<string, UpgradeSave>\n}\n/**\n * The save type for a building\n */\nexport interface BuildingSave {\n\tamount: number\n\tbought: number\n\tfree: number\n\ttotalCookies: number\n\tlevel: number\n\tmuted: number\n\tminigameSave: string\n}\n/**\n * The save type for an upgrade\n */\nexport interface UpgradeSave {\n\tunlocked: boolean\n\tbought: boolean\n}\n/**\n * The default save file for buildings\n */\nexport const DEFAULT_BUILDING_SAVE: BuildingSave = {\n\tamount: 0,\n\tbought: 0,\n\tfree: 0,\n\ttotalCookies: 0,\n\tlevel: 0,\n\tmuted: 0,\n\tminigameSave: \"\",\n}\n/**\n * The default save for an upgrade\n */\nexport const DEFAULT_UPGRADE_SAVE: UpgradeSave = {\n\tbought: false,\n\tunlocked: false,\n}\nexport const DEFAULT_MOD_SAVE: ModSave = {\n\tbuildings: {},\n\tupgrades: {},\n}\n/**\n * Creates a save for Cppkies\n */\nexport function initSave(): void {\n\tmaster.save.mods = {}\n\tmaster.save.foreign = DEFAULT_MOD_SAVE\n\tmaster.save.saveVer = 0\n\tmaster.save.exists = true\n}\n/**\n * Loads the building save data\n * @param building The building to load savedata for\n */\nexport function loadBuilding(building: Building): BuildingSave {\n\t//Use names because ID conflicts\n\treturn master.save.foreign.buildings[building.name] || DEFAULT_BUILDING_SAVE\n}\n/**\n * Saves a building\n * @param building The building to save\n */\nexport function saveBuilding({\n\tamount,\n\tbought,\n\tfree,\n\ttotalCookies,\n\tlevel,\n\tmuted,\n\tminigameSave,\n\tname,\n}: Building): void {\n\tmaster.save.foreign.buildings[name] = {\n\t\tamount,\n\t\tbought,\n\t\tfree,\n\t\ttotalCookies,\n\t\tlevel,\n\t\tmuted,\n\t\tminigameSave,\n\t}\n}\n/**\n * Loads an upgrade\n * @param upgrade The upgrade to load\n */\nexport function loadUpgrade(upgrade: Upgrade): UpgradeSave {\n\treturn master.save.foreign.upgrades[upgrade.name] || DEFAULT_UPGRADE_SAVE\n}\n/**\n * Saves an upgrade\n * @param upgrade The upgrade to save\n */\nexport function saveUpgrade(upgrade: Upgrade): void {\n\tmaster.save.foreign.upgrades[upgrade.name] = {\n\t\tunlocked: upgrade.unlocked,\n\t\tbought: upgrade.bought,\n\t}\n}\n/**\n * Loads everything\n * (Doesn't get called on Game.Load since Cppkies save isn't saved in the normal one)\n */\nexport function loadAll(): void {\n\tfor (const i in master.customBuildings) {\n\t\tconst me = master.customBuildings[i]\n\t\tapplyAllProps(window.Game.Objects[me.name], loadBuilding(me))\n\t}\n\tfor (const i in master.customUpgrades) {\n\t\tconst me = master.customUpgrades[i]\n\t\tapplyAllProps(window.Game.Upgrades[me.name], loadUpgrade(me))\n\t}\n}\n/**\n * Saves everything\n */\nexport function saveAll(): void {\n\tfor (const i in master.customBuildings)\n\t\tsaveBuilding(master.customBuildings[i])\n\tfor (const i in master.customUpgrades) saveUpgrade(master.customUpgrades[i])\n}\n\nexport function getSave(): SaveType {\n\t//Since we can't trust our data...\n\tconst save = (new LocalStorageWrapper(\"cppkiesSave\")\n\t\t.store as unknown) as SaveType\n\t//Create a save if it doesn't exist\n\tif (!save.exists) {\n\t\tinitSave()\n\t}\n\treturn save\n}\n","import gameType, { FoolBuilding, Icon } from \"./gameType\"\nimport master from \"./vars\"\nimport { injectCode } from \"./helpers\"\nimport { Injection } from \"./injects/generic\"\nimport { loadBuilding } from \"./saves\"\nimport { resolveAlias } from \"./spritesheets\"\n\n/**\n * The art of a building, used for drawing the drawing in the middle\n */\ninterface Art {\n\tbase?: string\n\txV?: number\n\tyV?: number\n\tw?: number\n\th?: number\n\trows?: number\n\tx?: number\n\ty?: number\n\tpic?: string\n\tbg?: string\n\tframes?: number\n}\n\n/**\n * Creates the hooks for a building\n * @param building The building to create hooks for\n */\nexport function createHooks(building: Building | gameType[\"Object\"]): void {\n\tconst injections: Injection[] = [\n\t\tnew Injection(\"tooltip\", () => {\n\t\t\tbuilding.tooltip = injectCode(\n\t\t\t\tinjectCode(building.tooltip, \"return\", \"let ret = \", \"replace\"),\n\t\t\t\tnull,\n\t\t\t\t`\\n//Cppkies injection\n\t\tfor(const i in Cppkies.buildingHooks[\"${building.name}\"].tooltip) {\n\t\t\tconst tempRet = Cppkies.buildingHooks[\"${building.name}\"].tooltip[i].call(this, ret)\n\t\t\tret = tempRet || ret\n\t\t}\n\t\treturn ret`,\n\t\t\t\t\"after\"\n\t\t\t)\n\t\t}),\n\t]\n\tconst dummy: Record<string, Function[]> = {}\n\tinjections.forEach(inject => {\n\t\tdummy[inject.value] = inject.defValue\n\t\tif (inject.func) inject.func()\n\t})\n\tmaster.buildingHooks[building.name] = dummy\n}\n\n/**\n * The building class for creating new buildings\n */\nexport class Building extends window.Game.Object {\n\ticonLink: string\n\tbigIconLink: string\n\t/**\n\t * Creates a new building and creates the hooks for it\n\t * @param name The name of the building\n\t * @param commonName Various additional string for the building, split by |:  The name of the building, then in plural, how the building produced the cookies, the effect from sugar lumps, then in plural\n\t * @param desc The description of the building\n\t * @param icon The icon for the building (Only the column matters)\n\t * @param bigIcon The icon that shows up in store (Only the row matters)\n\t * @param art The art for the building\n\t * @param cpsFunc The function to calculate CPS\n\t * @param buyFunction The function which gets called when it's bought\n\t * @param foolObject The fool building to display during business day\n\t * @param buildingSpecial The building special and building debuff\n\t */\n\tconstructor(\n\t\tname: string,\n\t\tcommonName: string,\n\t\tdesc: string,\n\t\ticon: Icon,\n\t\tbigIcon: Icon,\n\t\tart: Art,\n\t\tcpsFunc: (me: Building) => number,\n\t\tbuyFunction: () => void,\n\t\tfoolObject: FoolBuilding,\n\t\tbuildingSpecial: [string, string]\n\t) {\n\t\t//Warn about enforced orders\n\t\t//TODO Create article\n\t\tif (icon[0] !== 0) {\n\t\t\tconsole.warn(\n\t\t\t\t\"All icon sheets must follow an order, see https://cppkies.js.org/#/CommonProblems#IconOrder\"\n\t\t\t)\n\t\t}\n\t\tif (bigIcon[1] !== 0) {\n\t\t\tconsole.warn(\n\t\t\t\t\"All big icon sheets must follow an order, see https://cppkies.js.org/#/CommonProblems#IconOrder\"\n\t\t\t)\n\t\t}\n\t\tsuper(\n\t\t\tname,\n\t\t\tcommonName,\n\t\t\tdesc,\n\t\t\tbigIcon[0],\n\t\t\ticon[1],\n\t\t\tart,\n\t\t\t0, // The game automatically calculates Price and BaseCps\n\t\t\tcpsFunc,\n\t\t\tbuyFunction\n\t\t)\n\t\tmaster.customBuildings.push(this)\n\t\t// Create hooks\n\t\tcreateHooks(this)\n\t\t//Manually relink canvases and contexts because Orteil made it so new buildings break the old canvas and context links\n\t\tfor (const i in window.Game.ObjectsById) {\n\t\t\tif (parseInt(i) <= 0) continue\n\t\t\tconst me = window.Game.ObjectsById[i]\n\t\t\tme.canvas = window.l(`rowCanvas${i}`)\n\t\t\tme.ctx = me.canvas.getContext(\"2d\")\n\t\t\t//Relink their events too\n\t\t\twindow.AddEvent(me.canvas, \"mouseover\", () => {\n\t\t\t\tme.mouseOn = true\n\t\t\t})\n\t\t\twindow.AddEvent(me.canvas, \"mouseout\", () => {\n\t\t\t\tme.mouseOn = false\n\t\t\t})\n\t\t\twindow.AddEvent(me.canvas, \"mousemove\", e => {\n\t\t\t\tconst box = me.canvas.getBoundingClientRect()\n\t\t\t\tme.mousePos[0] = e.pageX - box.left\n\t\t\t\tme.mousePos[1] = e.pageY - box.top\n\t\t\t})\n\t\t\t//Restore minigames\n\t\t\tif (me.minigame && me.minigameLoaded) {\n\t\t\t\tconst save = me.minigame.save()\n\t\t\t\tme.minigame.launch()\n\t\t\t\tme.minigame.load(save)\n\t\t\t}\n\t\t}\n\t\tthis.buildingLink = bigIcon[2] || master.buildingLink + \"\"\n\t\tthis.iconLink = resolveAlias(icon[2] || master.iconLink + \"\")\n\t\t// This is the name, description, and icon used during Business Season\n\t\tif (foolObject) window.Game.foolObjects[name] = foolObject\n\t\t// The name of this building's golden cookie buff and debuff\n\t\tif (buildingSpecial)\n\t\t\twindow.Game.goldenCookieBuildingBuffs[name] = buildingSpecial\n\n\t\t//CCSE.ReplaceBuilding(name)\n\n\t\tif (this.iconLink) {\n\t\t\tmaster.buildingHooks[this.name].tooltip.push((ret: string) =>\n\t\t\t\tthis.locked\n\t\t\t\t\t? ret\n\t\t\t\t\t: ret.replace(\n\t\t\t\t\t\t\t\"background-position\",\n\t\t\t\t\t\t\t`background-image:url(${this.iconLink});background-position`\n\t\t\t\t\t  )\n\t\t\t)\n\t\t}\n\n\t\twindow.Game.BuildStore()\n\t\tif (this.buildingLink) {\n\t\t\tmaster.hooks.postBuildStore.push(() => {\n\t\t\t\twindow.l(\n\t\t\t\t\t`productIcon${this.id}`\n\t\t\t\t).style.backgroundImage = `url(${this.buildingLink})`\n\t\t\t\twindow.l(\n\t\t\t\t\t`productIconOff${this.id}`\n\t\t\t\t).style.backgroundImage = `url(${this.buildingLink})`\n\t\t\t})\n\t\t}\n\t\twindow.Game.BuildStore()\n\t\tthis.canvas = window.l(`rowCanvas${this.id}`)\n\t\tthis.ctx = this.canvas.getContext(\"2d\")\n\t\tthis.context = this.ctx\n\t\tthis.pics = []\n\t\tconst muteDiv = document.createElement(\"div\")\n\t\tmuteDiv.className = \"tinyProductIcon\"\n\t\tmuteDiv.id = `mutedProduct${this.id}`\n\t\tmuteDiv.style.display = \"none\"\n\t\tif (this.buildingLink)\n\t\t\tmuteDiv.style.backgroundImage = `url(${this.buildingLink})`\n\t\tmuteDiv.style.backgroundPositionX = `-${icon[0]}px`\n\t\tmuteDiv.style.backgroundPositionY = `-${icon[1]}px`\n\t\tmuteDiv.addEventListener(\"click\", () => {\n\t\t\tthis.mute(0)\n\t\t\twindow.PlaySound(this.muted ? \"snd/clickOff.mp3\" : \"snd/clickOn.mp3\")\n\t\t})\n\n\t\twindow.AddEvent(this.canvas, \"mouseover\", () => {\n\t\t\tthis.mouseOn = true\n\t\t})\n\t\twindow.AddEvent(this.canvas, \"mouseout\", () => {\n\t\t\tthis.mouseOn = false\n\t\t})\n\t\twindow.AddEvent(this.canvas, \"mousemove\", e => {\n\t\t\tconst box = this.canvas.getBoundingClientRect()\n\t\t\tthis.mousePos[0] = e.pageX - box.left\n\t\t\tthis.mousePos[1] = e.pageY - box.top\n\t\t})\n\t\twindow.l(\"buildingsMute\").appendChild(muteDiv)\n\t\t// Load the save stuff\n\t\tconst loadProps = loadBuilding(this)\n\t\tfor (const i in loadProps) this[i] = loadProps[i]\n\t\twindow.Game.recalculateGains = 1\n\t}\n}\n/**\n * The recommended function to pass in building CpsFunc\n * @param me Itself\n */\nexport const defaultCps = (me: Building): number =>\n\twindow.Game.GetTieredCpsMult(me) * window.Game.magicCpS(me.name) * me.baseCps\n/**\n * The reccomended function to pass in building BuyFunc\n */\nexport const defaultOnBuy = function(): void {\n\twindow.Game.UnlockTiered(this)\n\tif (\n\t\tthis.amount >= window.Game.SpecialGrandmaUnlock &&\n\t\twindow.Game.Objects[\"Grandma\"].amount > 0 &&\n\t\tthis.grandma\n\t)\n\t\twindow.Game.Unlock(this.grandma.name)\n}\n","import master from \"../vars\"\nimport { Icon } from \"../gameType\"\n\nexport default function postInject(): void {\n\tmaster.hooks.customGetIcon.push(\n\t\t(_type: string, tier: string | number, icon: Icon) => {\n\t\t\tmaster.customTiers.forEach(val => {\n\t\t\t\tif (val.keyName === tier.toString() && val.iconLink)\n\t\t\t\t\ticon[2] = val.iconLink\n\t\t\t})\n\t\t\treturn icon\n\t\t},\n\t\t(type: string, _tier: string | number, icon: Icon) => {\n\t\t\tmaster.customBuildings.forEach(val => {\n\t\t\t\tif (val.name === type && val.iconLink) icon[2] = val.iconLink\n\t\t\t})\n\t\t\treturn icon\n\t\t}\n\t)\n}\n","export class Injection {\n\tpublic defValue: Function[] = []\n\tconstructor(public value: string, public func?: Function) {}\n}\n","module.exports = {\n\tPATH_SEPARATOR: '.',\n\tTARGET: Symbol('target'),\n\tUNSUBSCRIBE: Symbol('unsubscribe')\n};\n","'use strict';\n\nmodule.exports = Array.isArray;\n","'use strict';\n\nmodule.exports = value => typeof value === 'symbol';\n","'use strict';\n\nconst {PATH_SEPARATOR} = require('./constants');\nconst isArray = require('./is-array');\nconst isSymbol = require('./is-symbol');\n\nmodule.exports = {\n\tafter: (path, subPath) => {\n\t\tif (isArray(path)) {\n\t\t\treturn path.slice(subPath.length);\n\t\t}\n\n\t\tif (subPath === '') {\n\t\t\treturn path;\n\t\t}\n\n\t\treturn path.slice(subPath.length + 1);\n\t},\n\tconcat: (path, key) => {\n\t\tif (isArray(path)) {\n\t\t\tpath = path.slice();\n\n\t\t\tif (key) {\n\t\t\t\tpath.push(key);\n\t\t\t}\n\n\t\t\treturn path;\n\t\t}\n\n\t\tif (key && key.toString !== undefined) {\n\t\t\tif (path !== '') {\n\t\t\t\tpath += PATH_SEPARATOR;\n\t\t\t}\n\n\t\t\tif (isSymbol(key)) {\n\t\t\t\treturn path + 'Symbol(' + key.description + ')';\n\t\t\t}\n\n\t\t\treturn path + key;\n\t\t}\n\n\t\treturn path;\n\t},\n\tinitial: path => {\n\t\tif (isArray(path)) {\n\t\t\treturn path.slice(0, -1);\n\t\t}\n\n\t\tif (path === '') {\n\t\t\treturn path;\n\t\t}\n\n\t\tconst index = path.lastIndexOf(PATH_SEPARATOR);\n\n\t\tif (index === -1) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn path.slice(0, index);\n\t},\n\twalk: (path, callback) => {\n\t\tif (isArray(path)) {\n\t\t\tpath.forEach(callback);\n\t\t} else if (path !== '') {\n\t\t\tlet position = 0;\n\t\t\tlet index = path.indexOf(PATH_SEPARATOR);\n\n\t\t\tif (index === -1) {\n\t\t\t\tcallback(path);\n\t\t\t} else {\n\t\t\t\twhile (position < path.length) {\n\t\t\t\t\tif (index === -1) {\n\t\t\t\t\t\tindex = path.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback(path.slice(position, index));\n\n\t\t\t\t\tposition = index + 1;\n\t\t\t\t\tindex = path.indexOf(PATH_SEPARATOR, position);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n","'use strict';\n\nconst {TARGET, UNSUBSCRIBE} = require('./lib/constants');\nconst path = require('./lib/path');\nconst isArray = require('./lib/is-array');\nconst isSymbol = require('./lib/is-symbol');\n\nconst isPrimitive = value => value === null || (typeof value !== 'object' && typeof value !== 'function');\n\nconst isBuiltinWithoutMutableMethods = value => value instanceof RegExp || value instanceof Number;\n\nconst isBuiltinWithMutableMethods = value => value instanceof Date;\n\nconst isSameDescriptor = (a, b) => {\n\treturn a !== undefined && b !== undefined &&\n\t\tObject.is(a.value, b.value) &&\n\t\t(a.writable || false) === (b.writable || false) &&\n\t\t(a.enumerable || false) === (b.enumerable || false) &&\n\t\t(a.configurable || false) === (b.configurable || false);\n};\n\nconst shallowClone = value => {\n\tif (isArray(value)) {\n\t\treturn value.slice();\n\t}\n\n\treturn {...value};\n};\n\nconst onChange = (object, onChange, options = {}) => {\n\tconst proxyTarget = Symbol('ProxyTarget');\n\tlet inApply = false;\n\tlet changed = false;\n\tlet applyPath;\n\tlet applyPrevious;\n\tlet isUnsubscribed = false;\n\tconst equals = options.equals || Object.is;\n\tlet propCache = new WeakMap();\n\tlet pathCache = new WeakMap();\n\tlet proxyCache = new WeakMap();\n\n\tconst handleChange = (changePath, property, previous, value) => {\n\t\tif (isUnsubscribed) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!inApply) {\n\t\t\tonChange(path.concat(changePath, property), value, previous);\n\t\t\treturn;\n\t\t}\n\n\t\tif (inApply && applyPrevious && previous !== undefined && value !== undefined && property !== 'length') {\n\t\t\tlet item = applyPrevious;\n\n\t\t\tif (changePath !== applyPath) {\n\t\t\t\tchangePath = path.after(changePath, applyPath);\n\n\t\t\t\tpath.walk(changePath, key => {\n\t\t\t\t\titem[key] = shallowClone(item[key]);\n\t\t\t\t\titem = item[key];\n\t\t\t\t});\n\t\t\t}\n\n\t\t\titem[property] = previous;\n\t\t}\n\n\t\tchanged = true;\n\t};\n\n\tconst getOwnPropertyDescriptor = (target, property) => {\n\t\tlet props = propCache !== null && propCache.get(target);\n\n\t\tif (props) {\n\t\t\tprops = props.get(property);\n\t\t}\n\n\t\tif (props) {\n\t\t\treturn props;\n\t\t}\n\n\t\tprops = new Map();\n\t\tpropCache.set(target, props);\n\n\t\tlet prop = props.get(property);\n\n\t\tif (!prop) {\n\t\t\tprop = Reflect.getOwnPropertyDescriptor(target, property);\n\t\t\tprops.set(property, prop);\n\t\t}\n\n\t\treturn prop;\n\t};\n\n\tconst invalidateCachedDescriptor = (target, property) => {\n\t\tconst props = propCache ? propCache.get(target) : undefined;\n\n\t\tif (props) {\n\t\t\tprops.delete(property);\n\t\t}\n\t};\n\n\tconst buildProxy = (value, path) => {\n\t\tif (isUnsubscribed) {\n\t\t\treturn value;\n\t\t}\n\n\t\tpathCache.set(value, path);\n\n\t\tlet proxy = proxyCache.get(value);\n\n\t\tif (proxy === undefined) {\n\t\t\tproxy = new Proxy(value, handler);\n\t\t\tproxyCache.set(value, proxy);\n\t\t}\n\n\t\treturn proxy;\n\t};\n\n\tconst unsubscribe = target => {\n\t\tisUnsubscribed = true;\n\t\tpropCache = null;\n\t\tpathCache = null;\n\t\tproxyCache = null;\n\n\t\treturn target;\n\t};\n\n\tconst ignoreProperty = property => {\n\t\treturn isUnsubscribed ||\n\t\t\t(options.ignoreSymbols === true && isSymbol(property)) ||\n\t\t\t(options.ignoreUnderscores === true && property.charAt(0) === '_') ||\n\t\t\t(options.ignoreKeys !== undefined && options.ignoreKeys.includes(property));\n\t};\n\n\tconst handler = {\n\t\tget(target, property, receiver) {\n\t\t\tif (property === proxyTarget || property === TARGET) {\n\t\t\t\treturn target;\n\t\t\t}\n\n\t\t\tif (property === UNSUBSCRIBE &&\n\t\t\t\tpathCache !== null &&\n\t\t\t\tpathCache.get(target) === '') {\n\t\t\t\treturn unsubscribe(target);\n\t\t\t}\n\n\t\t\tconst value = Reflect.get(target, property, receiver);\n\t\t\tif (\n\t\t\t\tisPrimitive(value) ||\n\t\t\t\tisBuiltinWithoutMutableMethods(value) ||\n\t\t\t\tproperty === 'constructor' ||\n\t\t\t\toptions.isShallow === true ||\n\t\t\t\tignoreProperty(property)\n\t\t\t) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\t// Preserve invariants\n\t\t\tconst descriptor = getOwnPropertyDescriptor(target, property);\n\t\t\tif (descriptor && !descriptor.configurable) {\n\t\t\t\tif (descriptor.set && !descriptor.get) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (descriptor.writable === false) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn buildProxy(value, path.concat(pathCache.get(target), property));\n\t\t},\n\n\t\tset(target, property, value, receiver) {\n\t\t\tif (value && value[proxyTarget] !== undefined) {\n\t\t\t\tvalue = value[proxyTarget];\n\t\t\t}\n\n\t\t\tconst ignore = ignoreProperty(property);\n\t\t\tconst previous = ignore ? null : Reflect.get(target, property, receiver);\n\t\t\tconst isChanged = !(property in target) || !equals(previous, value);\n\t\t\tlet result = true;\n\n\t\t\tif (isChanged) {\n\t\t\t\tresult = Reflect.set(target[proxyTarget] || target, property, value);\n\n\t\t\t\tif (!ignore && result) {\n\t\t\t\t\thandleChange(pathCache.get(target), property, previous, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tdefineProperty(target, property, descriptor) {\n\t\t\tlet result = true;\n\n\t\t\tif (!isSameDescriptor(descriptor, getOwnPropertyDescriptor(target, property))) {\n\t\t\t\tresult = Reflect.defineProperty(target, property, descriptor);\n\n\t\t\t\tif (result && !ignoreProperty(property) && !isSameDescriptor()) {\n\t\t\t\t\tinvalidateCachedDescriptor(target, property);\n\n\t\t\t\t\thandleChange(pathCache.get(target), property, undefined, descriptor.value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tdeleteProperty(target, property) {\n\t\t\tif (!Reflect.has(target, property)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst ignore = ignoreProperty(property);\n\t\t\tconst previous = ignore ? null : Reflect.get(target, property);\n\t\t\tconst result = Reflect.deleteProperty(target, property);\n\n\t\t\tif (!ignore && result) {\n\t\t\t\tinvalidateCachedDescriptor(target, property);\n\n\t\t\t\thandleChange(pathCache.get(target), property, previous);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tapply(target, thisArg, argumentsList) {\n\t\t\tconst compare = isBuiltinWithMutableMethods(thisArg);\n\n\t\t\tif (compare) {\n\t\t\t\tthisArg = thisArg[proxyTarget];\n\t\t\t}\n\n\t\t\tif (!inApply) {\n\t\t\t\tinApply = true;\n\n\t\t\t\tif (compare) {\n\t\t\t\t\tapplyPrevious = thisArg.valueOf();\n\t\t\t\t}\n\n\t\t\t\tif (isArray(thisArg) || toString.call(thisArg) === '[object Object]') {\n\t\t\t\t\tapplyPrevious = shallowClone(thisArg[proxyTarget]);\n\t\t\t\t}\n\n\t\t\t\tapplyPath = path.initial(pathCache.get(target));\n\n\t\t\t\tconst result = Reflect.apply(target, thisArg, argumentsList);\n\n\t\t\t\tinApply = false;\n\n\t\t\t\tif (changed || (compare && !equals(applyPrevious, thisArg.valueOf()))) {\n\t\t\t\t\thandleChange(applyPath, '', applyPrevious, thisArg[proxyTarget] || thisArg);\n\t\t\t\t\tapplyPrevious = null;\n\t\t\t\t\tchanged = false;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\treturn Reflect.apply(target, thisArg, argumentsList);\n\t\t}\n\t};\n\n\tconst proxy = buildProxy(object, options.pathAsArray === true ? [] : '');\n\tonChange = onChange.bind(proxy);\n\n\treturn proxy;\n};\n\nonChange.target = proxy => proxy[TARGET] || proxy;\nonChange.unsubscribe = proxy => proxy[UNSUBSCRIBE] || proxy;\n\nmodule.exports = onChange;\n","import { main } from \"./injects/basegame\"\n\nimport master from \"./vars\"\nimport { saveAll } from \"./saves\"\nimport { prod } from \"../isprod.json\"\nimport postInject from \"./injects/postInject\"\n\nlet CppkiesExport: typeof master\n\n//Check if Cppkies is already created\nif (window.Cppkies) {\n\t//If so, just reexport it\n\tCppkiesExport = window.Cppkies\n} else {\n\tCppkiesExport = master\n\twindow.Game.customSave.push(saveAll)\n\t//Inject maingame and create hooks\n\tmain().then(answer => {\n\t\tCppkiesExport.hooks = answer\n\t\twindow.Game.Notify(\"Cppkies loaded!\", \"\", [32, prod ? 17 : 21])\n\t\twindow.Game.Win(\"Third-party\")\n\t\t//Run all onLoad events\n\t\tmaster.onLoad.forEach(val => val())\n\t\t//Force all new onLoad events to run\n\t\tmaster.onLoad = new Proxy(master.onLoad, {\n\t\t\tset: (_target, key, value): boolean => {\n\t\t\t\tif (key !== \"length\") value()\n\t\t\t\treturn true\n\t\t\t},\n\t\t})\n\t\tpostInject()\n\t\t//Force manual addition since in-module injects b r e a k\n\t\twindow.Cppkies = CppkiesExport\n\t})\n}\nexport default CppkiesExport\n","import onChange from \"on-change\"\n/**\n * The localStotrage wrapper class\n */\nexport default class LocalStorageWrapper {\n\tstore: Record<string | number, unknown>\n\t/**\n\t * The wrapper class for localStorage\n\t * @param name The name of the key\n\t */\n\tconstructor(private name: string) {\n\t\tthis.updateValues(name)\n\t\tif (!this.store) this.store = {}\n\t\tthis.store = onChange(this.store, () => {\n\t\t\tthis.writeValues()\n\t\t})\n\t}\n\t/**\n\t * Reads the values from the name\n\t * @param name The key to read from\n\t */\n\tupdateValues(name: string): void {\n\t\tthis.store = JSON.parse(localStorage.getItem(name))\n\t}\n\t/**\n\t * Writes store to localstorage\n\t */\n\twriteValues(): void {\n\t\tlocalStorage.setItem(this.name, JSON.stringify(this.store))\n\t}\n}\n","import { Icon } from \"./gameType\"\nimport master from \"./vars\"\nimport { loadUpgrade } from \"./saves\"\nimport { CommonValue, toSentenseCase } from \"./helpers\"\nimport { resolveAlias } from \"./spritesheets\"\n\n/**\n * The class for upgrades\n */\nexport class Upgrade extends window.Game.Upgrade {\n\t/**\n\t * Creates an upgrade\n\t * @param name The name of the upgrade\n\t * @param desc The description of it\n\t * @param price The price of it\n\t * @param icon  The icon for it\n\t * @param buyFunc The function that gets called when you buy the upgrade\n\t */\n\tconstructor(\n\t\tname: string,\n\t\tdesc: CommonValue<string>,\n\t\tprice: CommonValue<number>,\n\t\ticon: CommonValue<Icon>,\n\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\tbuyFunc: () => void = (): void => {}\n\t) {\n\t\tif (!icon[2]) icon[2] = master.iconLink + \"\"\n\t\ticon[2] = resolveAlias(icon[2])\n\t\tsuper(\n\t\t\tname,\n\t\t\ttypeof desc === \"function\" ? \"\" : desc,\n\t\t\ttypeof price === \"function\" ? 0 : price,\n\t\t\ttypeof icon === \"function\" ? [0, 0] : icon,\n\t\t\tbuyFunc\n\t\t)\n\t\tif (typeof desc === \"function\") this.descFunc = desc\n\t\tif (typeof price === \"function\") this.priceFunc = price\n\t\tif (typeof icon === \"function\") this.iconFunction = icon\n\t\tmaster.customUpgrades.push(this)\n\t\tconst loadProps = loadUpgrade(this)\n\t\tfor (const i in loadProps) this[i] = loadProps[i]\n\t}\n}\n\n/**\n * The class for heavenly upgrades\n */\nexport class HeavenlyUpgrade extends Upgrade {\n\t/**\n\t * Creates a heavenly upgrade\n\t * @param name The name for it\n\t * @param desc The description of it\n\t * @param price The price of in (in Heavenly Chips)\n\t * @param icon The icon for it\n\t * @param position The position of it on the heavenly map screen\n\t * @param parents It's parents, can be mixed ID's with names\n\t * @param buyFunc The function which gets called on being bought\n\t */\n\tconstructor(\n\t\tname: string,\n\t\tdesc: CommonValue<string>,\n\t\tprice: CommonValue<number>,\n\t\ticon: CommonValue<Icon>,\n\t\tposition: [number, number],\n\t\tpublic parents: (string | number)[] = [\"Legacy\"],\n\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\tbuyFunc: () => void = (): void => {}\n\t) {\n\t\tsuper(name, desc, price, icon, buyFunc)\n\t\tthis.pool = \"prestige\"\n\t\tthis.posX = position[0]\n\t\tthis.posY = position[1]\n\t\tfor (const i in this.parents) {\n\t\t\tconst me = this.parents[i]\n\t\t\t//Try both by name and by id\n\t\t\tthis.parents[i] = window.Game.Upgrades[me] || window.Game.UpgradesById[me]\n\t\t}\n\t\twindow.Game.PrestigeUpgrades.push(this)\n\t\twindow.Game.UpgradePositions[this.id] = position\n\t}\n}\n\nexport class TieredUpgrade extends Upgrade {\n\t/**\n\t * Creates a tiered upgrade\n\t * @param name The name of the tiered upgrade\n\t * @param description The description of the upgrade\n\t * @param building The building it boosts\n\t * @param tier The upgrade's tier\n\t */\n\tconstructor(\n\t\tname: string,\n\t\tdescription: string,\n\t\tbuilding: string,\n\t\ttier: string | number\n\t) {\n\t\tsuper(\n\t\t\tname,\n\t\t\t`${toSentenseCase(\n\t\t\t\twindow.Game.Objects[building].plural\n\t\t\t)} are <b>twice</b> as efficient.<q>${description}</q>`,\n\t\t\twindow.Game.Objects[building].basePrice * window.Game.Tiers[tier].price,\n\t\t\twindow.Game.GetIcon(building, tier)\n\t\t)\n\t\twindow.Game.SetTier(building, tier)\n\t\tthis.buildingTie1 = window.Game.Objects[building]\n\t\tif (tier === \"fortune\") window.Game.Objects[building].fortune = this\n\t\tif (typeof tier === \"number\")\n\t\t\tthis.order = (window.Game.Objects[building].id + 1) * 100 + tier\n\t\t// Manually patch order since Orteil doesn't like consistency\n\t\tthis.order -=\n\t\t\tMath.max(0, Math.min(window.Game.Objects[building].id - 4, 3)) * 75\n\t}\n}\n\nexport class GrandmaSynergy extends Upgrade {\n\t/**\n\t * Creates a grandma synergy upgrade\n\t * @param name The name for the upgrade(Usually something like \"_ Grandmas\")\n\t * @param quote The flavor text of the upgrade\n\t * @param buildingName The building to be tied with\n\t * @param grandmaPicture Optional, the picture of the grandma to use in grandma art\n\t */\n\tconstructor(\n\t\tname: string,\n\t\tquote: string,\n\t\tbuildingName: string,\n\t\tgrandmaPicture?: string\n\t) {\n\t\tconst building = window.Game.Objects[buildingName]\n\t\tlet grandmaNumber: string | number = building.id - 1\n\t\tif (grandmaNumber === 1) grandmaNumber = \"grandma\"\n\t\telse grandmaNumber = `${grandmaNumber} grandmas`\n\t\tsuper(\n\t\t\tname,\n\t\t\t`Grandmas are <b>twice</b> as efficient.${toSentenseCase(\n\t\t\t\tbuilding.plural\n\t\t\t)} gain <b>+1% CpS</b> per ${grandmaNumber}.<q>${quote}</q>`,\n\t\t\tbuilding.basePrice * window.Game.Tiers[2].price,\n\t\t\t[10, 9],\n\t\t\tfunction() {\n\t\t\t\twindow.Game.Objects.Grandma.redraw()\n\t\t\t}\n\t\t)\n\t\tbuilding.grandma = this\n\t\tthis.buildingTie = building\n\t\twindow.Game.GrandmaSynergies.push(this.name)\n\t\tif (grandmaPicture)\n\t\t\tmaster.hooks.customGrandmaPic.push(() => {\n\t\t\t\tif (this.bought) return grandmaPicture\n\t\t\t})\n\t}\n}\n\nexport class SynergyUpgrade extends Upgrade {\n\t/**\n\t * Creates a synergy upgrade\n\t * @param name The name for the upgrade\n\t * @param desc The flavor text for it\n\t * @param building1Name The first building\n\t * @param building2Name The second building\n\t * @param tier The synergy tier **Warning: The tier must have a req field**\n\t */\n\tconstructor(\n\t\tname: string,\n\t\tdesc: string,\n\t\tbuilding1Name: string,\n\t\tbuilding2Name: string,\n\t\ttier: string | number\n\t) {\n\t\tlet building1 = window.Game.Objects[building1Name]\n\t\tlet building2 = window.Game.Objects[building2Name]\n\t\tif (building1.basePrice > building2.basePrice) {\n\t\t\tbuilding1 = window.Game.Objects[building2Name]\n\t\t\tbuilding2 = window.Game.Objects[building1Name]\n\t\t} //swap\n\t\tdesc = `${toSentenseCase(\n\t\t\tbuilding1.plural\n\t\t)} gain <b>+5% CpS</b> per ${building2.name.toLowerCase()}.<br>${toSentenseCase(\n\t\t\tbuilding2.plural\n\t\t)} gain <b>+0.1% CpS</b> per \n\t\t\t${building1.name.toLowerCase()}.<q>${desc}</q>`\n\t\tsuper(\n\t\t\tname,\n\t\t\tdesc,\n\t\t\t(building1.basePrice * 10 + building2.basePrice * 1) *\n\t\t\t\twindow.Game.Tiers[tier].price,\n\t\t\twindow.Game.GetIcon(building1Name, tier)\n\t\t)\n\t\tthis.tier = tier\n\t\tthis.buildingTie1 = building1\n\t\tthis.buildingTie2 = building2\n\t\tbuilding1.synergies.push(this)\n\t\tbuilding2.synergies.push(this)\n\t}\n}\n","import { Upgrade } from \"./upgrade\"\nimport { Icon } from \"./gameType\"\nimport master from \"./vars\"\nexport default class Tier {\n\tachievUnlock?: number\n\ticonRow: number\n\ticonLink?: string\n\n\t/**\n\t\tIndicates if the tier shouldn't be accounted for tiered upgrades\n\t*/\n\tspecial: boolean\n\treq?: string\n\tupgrades: Upgrade[] = []\n\t/**\n\t * Adds a new tier to the game for upgrades and achievements\n\t * @param name The name of the new tier\n\t * @param sampleIcon A sample of an icon using the tier\n\t * @param color The color of the tier\n\t * @param price The base price of tiered upgrades\n\t * @param special Indicates if the tier shouldn't be accounted for tiered upgrades\n\t * @param unlock How many buildings are needed for the upgrade\n\t * @param achievUnlock How many buildings are needed for the achievement\n\t * @param req Which upgrade is required to unlock the upgrades\n\t * @param keyName Optional, the key for tiers, used in everything\n\t */\n\tconstructor(\n\t\tpublic name: string,\n\t\tsampleIcon: Icon,\n\t\tpublic color: string,\n\t\tspecial = false,\n\t\tpublic price: number | \"auto\" = \"auto\",\n\t\tpublic unlock: number | \"auto\" | null = null,\n\t\tachievUnlock: number | \"auto\" | null = null,\n\t\treq: string | null = null,\n\t\tpublic keyName: string | \"auto\" = \"auto\"\n\t) {\n\t\tthis.special = special\n\t\tif (unlock === null) this.unlock = -1\n\t\tif (typeof achievUnlock === \"number\") this.achievUnlock = achievUnlock\n\t\tif (req) this.req = req\n\t\tif (price === \"auto\")\n\t\t\tthis.price =\n\t\t\t\twindow.Game.Tiers[\n\t\t\t\t\tObject.keys(window.Game.Tiers)\n\t\t\t\t\t\t.filter(val => !isNaN(parseInt(val)))\n\t\t\t\t\t\t.length.toString()\n\t\t\t\t].price * 1e8\n\t\t/*\n\t\t\tAnalyze sample icon\n\t\t*/\n\t\tthis.iconRow = sampleIcon[1]\n\t\tif (sampleIcon[2]) this.iconLink = sampleIcon[2]\n\t\tif (keyName === \"auto\")\n\t\t\tif (!special)\n\t\t\t\tthis.keyName = (\n\t\t\t\t\tObject.keys(window.Game.Tiers).filter(val => !isNaN(parseInt(val)))\n\t\t\t\t\t\t.length + 1\n\t\t\t\t).toString()\n\t\t\telse this.keyName = name\n\t\tif ((special === false && unlock === null) || unlock === \"auto\")\n\t\t\tthis.unlock = window.Game.Tiers[parseInt(this.keyName) - 1].unlock + 50\n\t\tif ((special === false && achievUnlock === null) || achievUnlock === \"auto\")\n\t\t\tthis.achievUnlock =\n\t\t\t\twindow.Game.Tiers[parseInt(this.keyName) - 1].achievUnlock + 50\n\t\twindow.Game.Tiers[this.keyName] = this\n\t\tmaster.customTiers.push(this)\n\t}\n}\n","import { getSave } from \"./saves\"\nimport { Building, defaultOnBuy, defaultCps } from \"./buildings\"\nimport {\n\tUpgrade,\n\tTieredUpgrade,\n\tHeavenlyUpgrade,\n\tGrandmaSynergy,\n\tSynergyUpgrade,\n} from \"./upgrade\"\nimport Tier from \"./tiers\"\nimport { injectCode } from \"./helpers\"\nimport { relinkColumn } from \"./spritesheets\"\nimport { Cppkies } from \"./gameType\"\n\n/**\n * The main object which is exported by Cppkies\n */\nconst master: Cppkies = {\n\thooks: null,\n\ticonLink: \"\",\n\tbuildingLink: \"\",\n\tbuildingHooks: {},\n\tbuildingHooksById: [],\n\tcustomBuildings: [],\n\tcustomUpgrades: [],\n\tcustomTiers: [],\n\tsave: getSave(),\n\tonLoad: [],\n\tBuilding,\n\tUpgrade,\n\tTieredUpgrade,\n\tTier,\n\tHeavenlyUpgrade,\n\tGrandmaSynergy,\n\tSynergyUpgrade,\n\tinjectCode,\n\tDEFAULT_ONBUY: defaultOnBuy,\n\tDEFAULT_CPS: defaultCps,\n\ticons: {\n\t\trelinkColumn: relinkColumn,\n\t\trelinkRow: null,\n\t},\n}\nexport default master\n","import { injectCode } from \"../helpers\"\nimport { Injection } from \"./generic\"\nimport { Icon } from \"../gameType\"\n\nexport interface Hooks {\n\t//! Custom menus\n\t/**\n\t * Allows you to add entries to all menus\n\t */\n\tcustomMenu: (() => void)[]\n\t/**\n\t * Allows you to add entries to the options menu\n\t */\n\tcustomOptionsMenu: (() => void)[]\n\t/**\n\t * Allows you to add entries to the stats menu\n\t */\n\tcustomStatsMenu: (() => void)[]\n\t/**\n\t * Allows you to add entries to the info menu\n\t */\n\tcustomInfoMenu: (() => void)[]\n\n\t//! Data manipulation\n\n\t/**\n\t * Allows you to execute a function on data load, useful for custom data loading\n\t */\n\tcustomLoad: (() => void)[]\n\n\t/**\n\t * Allows you to execute a function on data load, useful for custom data resetting\n\t * @param hard whether or not this is a hard reset\n\t */\n\tcustomReset: ((hard: boolean) => void)[]\n\t//! Tiers\n\t/**\n\t * Overrides for icons gotten from GetIcon\n\t * @param type The type of icon, either a building name or \"Kitten\"\n\t * @param tier The tier of the icon, gotten from Tier.iconRow\n\t * @param icon The current icon\n\t * @returns An icon\n\t */\n\tcustomGetIcon: ((type: string, tier: string | number, icon: Icon) => Icon)[]\n\n\t//! Buildings\n\t/**\n\t * Called after BuildStore, used internally\n\t */\n\tpostBuildStore: (() => void)[]\n\t/**\n\t * Adds grandma options, must return a truthy value to be considered an image\n\t * @returns A link to an image, or a falsy value\n\t */\n\tcustomGrandmaPic: (() => string | null)[]\n}\n/**\n * Creates the function hooks for base game\n * @returns A promise\n */\nexport function main(): Promise<Hooks> {\n\treturn new Promise(resolve => {\n\t\tconst dummy = {}\n\t\tconst injections: Array<Injection> = [\n\t\t\t//// -- Custom menus -- ////\n\t\t\t/*\n\t\t\tHooks that allow you to add new stuff do the menu \n\n\t\t\tcustomOptionsMenu()\n\t\t\tAllows you to add entries to the options menu\n\n\t\t\tcustomStatsMenu()\n\t\t\tAllows you to add entries to the stats menu\n\n\t\t\tcustomInfoMenu()\n\t\t\tAllows you to add entries to the info menu\n\n\t\t\tcustomMenu()\n\t\t\tAllows you to add entries to all menus\n\t\t\t*/\n\t\t\tnew Injection(\"customMenu\", () => {\n\t\t\t\twindow.Game.UpdateMenu = injectCode(\n\t\t\t\t\twindow.Game.UpdateMenu,\n\t\t\t\t\tnull,\n\t\t\t\t\t`\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tswitch (Game.onMenu) {\n\t\t\t\t\t\tcase \"prefs\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customOptionsMenu) Cppkies.hooks.customOptionsMenu[i]()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase \"stats\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customStatsMenu) Cppkies.hooks.customStatsMenu[i]()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase \"log\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customInfoMenu) Cppkies.hooks.customInfoMenu[i]()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tfor(const i in Cppkies.hooks.customMenu) Cppkies.hooks.customMenu[i]()\n\t\t\t\t\t`,\n\t\t\t\t\t\"before\"\n\t\t\t\t)\n\t\t\t}),\n\t\t\tnew Injection(\"customOptionsMenu\"),\n\t\t\tnew Injection(\"customStatsMenu\"),\n\t\t\tnew Injection(\"customInfoMenu\"),\n\t\t\t//// -- Data manipulation -- ////\n\t\t\t/*\n\t\t\tGeneral Description\n\n\t\t\tcustomLoad() \n\t\t\tAllows you to execute a function on data load, useful for custom data loading\n\n\t\t\tcustomReset(hard)\n\t\t\tAllows you to execute a function on data load, useful for custom data resetting\n\t\t\thard: boolean - whether or not this is a hard reset\n\t\t\t*/\n\t\t\tnew Injection(\"customLoad\", () => {\n\t\t\t\twindow.Game.LoadSave = injectCode(\n\t\t\t\t\twindow.Game.LoadSave,\n\t\t\t\t\t\"if (Game.prefs.showBackupWarning==1)\",\n\t\t\t\t\t`\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customLoad) Cppkies.hooks.customLoad[i]()\n\t\t\t\t\t`,\n\t\t\t\t\t\"before\"\n\t\t\t\t)\n\t\t\t}),\n\t\t\tnew Injection(\"customReset\", () => {\n\t\t\t\twindow.Game.Reset = injectCode(\n\t\t\t\t\twindow.Game.Reset,\n\t\t\t\t\tnull,\n\t\t\t\t\t`\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customReset) Cppkies.hooks.customReset[i](hard)\n\t\t\t\t\t`,\n\t\t\t\t\t\"before\"\n\t\t\t\t)\n\t\t\t}),\n\t\t\t//// -- Tiers -- ////\n\t\t\t/**\n\t\t\t\tcustomGetIcon(type, tier, icon)\n\t\t\t\tOverrides for icons gotten from GetIcon\n\t\t\t\ttype: string - The type of icon, either a building name or \"Kitten\"\n\t\t\t\ttier: string - The tier of the icon, gotten from Tier.iconRow\n\t\t\t\ticon: Icon - the current icon\n\t\t\t */\n\t\t\tnew Injection(\"customGetIcon\", () => {\n\t\t\t\twindow.Game.GetIcon = injectCode(\n\t\t\t\t\twindow.Game.GetIcon,\n\t\t\t\t\t\"return [col,Game.Tiers[tier].iconRow];\",\n\t\t\t\t\t`\n\t\t\t\t\t// Cppkies Injection\n\t\t\t\t\tlet icon = [col, Game.Tiers[tier].iconRow]\n\t\t\t\t\tfor(const i in Cppkies.hooks.customGetIcon) icon = Cppkies.hooks.customGetIcon[i](type, tier, icon) || icon\n\t\t\t\t\treturn icon\n`,\n\t\t\t\t\t\"replace\"\n\t\t\t\t)\n\t\t\t}),\n\t\t\t//// -- Sugar Lump -- ////\n\t\t\t// TODO Rewrite Game.computeLumpType\n\t\t\t// TODO Cppkies.hooks.customComputeLumpType\n\t\t\t// TODO Cppkies.hooks.customDoLumps\n\t\t\t//// -- Economics -- ////\n\t\t\t// TODO Cppkies.hooks.customCps\n\t\t\t//// -- Shimmers -- ////\n\t\t\t// TODO everything shimmer related\n\t\t\t//// -- Prompts -- ////\n\t\t\t// Idk what here\n\t\t\t//// -- Menus -- ////\n\t\t\t// TODO Patch disabled buttons(?)\n\t\t\t//// -- Buildings -- ////\n\t\t\t/**\n\t\t\t\tCalled after BuildStore, used internally\n\t\t\t */\n\t\t\tnew Injection(\"postBuildStore\", () => {\n\t\t\t\twindow.Game.BuildStore = injectCode(\n\t\t\t\t\twindow.Game.BuildStore,\n\t\t\t\t\tnull,\n\t\t\t\t\t\";\\nfor(const i in Cppkies.hooks.postBuildStore) Cppkies.hooks.postBuildStore[i]()\",\n\t\t\t\t\t\"after\"\n\t\t\t\t)\n\t\t\t}),\n\t\t\t/**\n\t\t\t\tAdds grandma options, must return a truthy value to be considered an image\n\t\t\t */\n\t\t\tnew Injection(\"customGrandmaPic\", () => {\n\t\t\t\twindow.Game.Objects.Grandma.art.pic = injectCode(\n\t\t\t\t\twindow.Game.Objects.Grandma.art.pic,\n\t\t\t\t\t\"return choose(list)+'.png'\",\n\t\t\t\t\t`// Cppkies injection\n\t\t\t\t\tlist = list.concat(Cppkies.hooks.customGrandmaPic.map(val=> val()).filter(val => val))\n\t\t\t\t\t`,\n\t\t\t\t\t\"before\"\n\t\t\t\t)\n\t\t\t}),\n\t\t]\n\t\tinjections.forEach(inject => {\n\t\t\tdummy[inject.value] = inject.defValue\n\t\t\tinject.func?.()\n\t\t})\n\t\t//Misc stuff\n\t\twindow.Game.Loader.Load = injectCode(\n\t\t\twindow.Game.Loader.Load,\n\t\t\t\"img.src=this.domain\",\n\t\t\t`\n\t\t\t// Cppkies injection\n\t\t\timg.src = (assets[i].indexOf('http') !== -1 ? \"\" : this.domain)\n`,\n\t\t\t\"replace\"\n\t\t)\n\t\twindow.Game.Objects.Cursor.buyFunction = injectCode(\n\t\t\twindow.Game.Objects.Cursor.buyFunction,\n\t\t\t\"Game.Unlock('Octillion fingers');\",\n\t\t\t`\n \t\t\t// Cppkies injection\n\t\t\tfor(const i in this.tieredUpgrades) {\n\t\t\t\tif (isNaN(parseInt(i))) break\n\t\t\t\tif (this.amount >= window.Game.Tiers[this.tieredUpgrades[i].tier].unlock - 50) this.tieredUpgrades[i].unlock()\n\t\t\t}\n`,\n\t\t\t\"after\"\n\t\t)\n\t\tresolve(dummy as Hooks)\n\t})\n}\n"],"names":["Math","max","getValue","value","Function","escapeRegExp","str","replace","injectCode","func","source","target","where","context","regex","newFuncStr","toString","sliceMode","RegExp","findStart","findEnd","test","console","warn","Error","contextStr","i","globalThis","tempCtx","newFunc","prototype","toSentenseCase","strign","charAt","toUpperCase","slice","toLowerCase","initSave","master","save","mods","foreign","DEFAULT_MOD_SAVE","saveVer","exists","loadBuilding","building","buildings","name","DEFAULT_BUILDING_SAVE","saveBuilding","_a","amount","bought","free","totalCookies","level","muted","minigameSave","loadUpgrade","upgrade","upgrades","DEFAULT_UPGRADE_SAVE","saveUpgrade","unlocked","alias","oldName","aliasName","aliases","resolveAlias","steppedAliases","includes","push","relink","link","icons","matrix","iconSize","size","Promise","resolve","Array","references","y","x","parseInt","buffer","document","createElement","getContext","img","Image","src","crossOrigin","addEventListener","canvas","width","height","drawImage","toBlob","blob","URL","createObjectURL","createHooks","injections","Injection","tooltip","dummy","forEach","inject","defValue","buildingHooks","postInject","hooks","customGetIcon","_type","tier","icon","customTiers","val","keyName","iconLink","type","_tier","customBuildings","PATH_SEPARATOR","TARGET","Symbol","UNSUBSCRIBE","isArray","require$$0","after","path","subPath","length","concat","key","isSymbol","description","initial","index","lastIndexOf","walk","callback","position","indexOf","isPrimitive","isBuiltinWithoutMutableMethods","Number","isBuiltinWithMutableMethods","Date","isSameDescriptor","a","b","Object","is","writable","enumerable","configurable","shallowClone","onChange","object","options","proxyTarget","applyPath","applyPrevious","inApply","changed","isUnsubscribed","equals","propCache","WeakMap","pathCache","proxyCache","handleChange","changePath","property","previous","item","getOwnPropertyDescriptor","props","get","Map","set","prop","Reflect","invalidateCachedDescriptor","delete","buildProxy","proxy","Proxy","handler","unsubscribe","ignoreProperty","ignoreSymbols","ignoreUnderscores","ignoreKeys","receiver","isShallow","descriptor","ignore","isChanged","result","defineProperty","deleteProperty","has","apply","thisArg","argumentsList","compare","valueOf","call","pathAsArray","bind","CppkiesExport","updateValues","store","_this","writeValues","LocalStorageWrapper","JSON","parse","localStorage","getItem","setItem","stringify","extraColumnIcons","milestone1","milestone2","milestone3","krumblor","level1","level2","commonName","desc","bigIcon","art","cpsFunc","buyFunction","foolObject","buildingSpecial","_super","me","window","Game","ObjectsById","l","ctx","AddEvent","mouseOn","e","box","getBoundingClientRect","mousePos","pageX","left","pageY","top","minigame","minigameLoaded","launch","load","buildingLink","foolObjects","goldenCookieBuildingBuffs","ret","locked","BuildStore","postBuildStore","id","style","backgroundImage","pics","muteDiv","className","display","backgroundPositionX","backgroundPositionY","mute","PlaySound","appendChild","loadProps","recalculateGains","__extends","price","buyFunc","descFunc","priceFunc","iconFunction","customUpgrades","Upgrade","parents","pool","posX","posY","Upgrades","UpgradesById","PrestigeUpgrades","UpgradePositions","min","Objects","plural","basePrice","Tiers","GetIcon","SetTier","buildingTie1","fortune","order","quote","buildingName","grandmaPicture","grandmaNumber","Grandma","redraw","grandma","buildingTie","GrandmaSynergies","customGrandmaPic","building1Name","building2Name","building1","building2","buildingTie2","synergies","sampleIcon","color","special","unlock","achievUnlock","req","keys","filter","isNaN","iconRow","buildingHooksById","onLoad","Building","TieredUpgrade","Tier","HeavenlyUpgrade","GrandmaSynergy","SynergyUpgrade","DEFAULT_ONBUY","UnlockTiered","SpecialGrandmaUnlock","Unlock","DEFAULT_CPS","GetTieredCpsMult","magicCpS","baseCps","relinkColumn","columnIcons","values","reduce","acc","Infinity","_c","relinkRow","Cppkies","customSave","UpdateMenu","LoadSave","Reset","pic","Loader","Load","Cursor","then","answer","Notify","Win","_target"],"mappings":"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"}