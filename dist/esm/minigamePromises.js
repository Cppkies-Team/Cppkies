import"./tslib.es6-ac47674d.js";import{injectCode as e}from"./helpers.js";var r={};window.__CPPKIES_MINIGAME_PROMISES_MARK__=function(e){r[e]&&(r[e](),delete r[e])},Game.LoadMinigames=e(Game.LoadMinigames,"document.head.appendChild(script);","\n__CPPKIES_MINIGAME_PROMISES_MARK__(me.name);","after");var n=new Proxy({},{get:function(e,n){if("symbol"==typeof n)throw new Error("No such building as [symbol]!");if(e[n])return e[n];var i=Game.Objects[n];if(!i)throw new Error("No such building as "+n+"!");if(i.minigameLoaded)return e[n]=Promise.resolve();var t=document.querySelector("#minigameScript-"+i.id);return e[n]=new Promise(t?function(e,r){t.addEventListener("load",(function(){return e()})),t.addEventListener("error",r)}:function(e,t){r[n]=function(){var r=document.querySelector("#minigameScript-"+i.id);r&&(r.addEventListener("load",(function(){return e()})),r.addEventListener("error",t))}}),e[n]}});export{n as minigamePromises};
