import{c as t}from"./tslib.es6-9a9d7607.js";import{mods as e}from"./vars.js";import"./helpers.js";import"./lz-string.js";import{save as n}from"./saves.js";import{shouldRunVersioned as i}from"./generic.js";import"./eventemitter.js";import"./buildings.js";import o from"./basegame.js";import{ccSlider as s,ccButton as a,ccHideableSection as r}from"./ccUI.js";import"./onLoad.js";import{currentMod as u}from"./mods.js";var l=function(t){if(this.keyname=t,!u)throw new Error("You are instancing a mod UI class outside of a mod declaration.");u.toggles.push(this),this.mod=u,this.load&&void 0!==n.mods[this.mod.keyname].ui[this.keyname]&&this.load(n.mods[this.mod.keyname].ui[this.keyname])},d=function(e){function n(t,n,i,o,s,a){void 0===s&&(s=i[0]);var r=e.call(this,t)||this;return r.name=n,r.bounds=i,r.valueFunc=o,r.onChange=a,void 0===r.value&&(r.value=s),r}return t(n,e),n.prototype.save=function(){return this.value},n.prototype.load=function(t){this.value=t},n.prototype.render=function(){var t=this;return s(this.name,this.valueFunc,this.value,this.bounds,(function(e){var n;t.value=e,null===(n=t.onChange)||void 0===n||n.call(t,e)}))},n}(l),c=function(e){function n(t,n,i,o,s){var a=e.call(this,t)||this;return a.name=n,a.description=i,a.onClick=o,a.type=s,a.additionalClasses=[],a}return t(n,e),n.prototype.render=function(){var t=this;return a(this.name,this.description,(function(){var e;null===(e=t.onClick)||void 0===e||e.call(t),Game.UpdateMenu()}),this.type,this.off,this.additionalClasses)},n}(l),p=function(e){function n(t,n,i,o,s,a){var r=e.call(this,t,"function"==typeof n?"TEMP":n,o,(function(){var t;r.state=null!==(t=r.states[r.states.indexOf(r.state)+1])&&void 0!==t?t:r.states[0],null==s||s.apply(r)}))||this;return r.states=i,r.description=o,r.type=a,void 0===r.state&&(r.state=r.states[0]),r}return t(n,e),n.prototype.save=function(){return this.state},n.prototype.load=function(t){this.state=t},n.prototype.render=function(){return this.stateFunc&&(this.name=this.stateFunc(this.state)),e.prototype.render.call(this)},n}(c),h=function(e){function n(t,n,i,o,s,a){var r=e.call(this,t,"function"==typeof n?function(t){return n("ON"===t)}:function(){return n+" "+r.state},["ON","OFF"],i,(function(){"ON"===r.state?r.additionalClasses.splice(r.additionalClasses.indexOf("off"),1):r.additionalClasses.push("off"),null==o||o.apply(r)}))||this;return r.description=i,r.type=s,r.defaultState=a,void 0===r.state&&(r.state=r.defaultState||void 0===r.defaultState?"ON":"OFF"),"OFF"===r.state&&r.additionalClasses.push("off"),r}return t(n,e),n.prototype.render=function(){return this.off="OFF"===this.state,e.prototype.render.call(this)},n}(p);i(1)&&o.on("optionsMenu",(function(){var t,n=document.querySelector("#menu");if(n&&0!==e.length)for(var i=n.children[n.children.length-1],o=i.children[i.children.length-2],s=0,a=e;s<a.length;s++){var u=a[s];o.appendChild(r(u.keyname+"ui",null!==(t=u.name)&&void 0!==t?t:u.keyname,u.render(),Game.UpdateMenu))}}));export{c as Button,p as MultiStateButton,d as Slider,l as ToggleBase,h as ToggleButton};
