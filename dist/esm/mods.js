import"./tslib.es6-ac47674d.js";import{mods as e,setCurrentMod as t}from"./vars.js";import{applyAllProps as n}from"./helpers.js";import"./lz-string.js";import{applyModSave as r,loadMod as o}from"./saves.js";import{deffer as s}from"./loadValues.js";var i=function(){function i(i,a){var m=this;this.modFunction=a,this.keyname="never-should-happen",this.version="1.0",this.custom=null,this.toggles=[],this.ownedUnits=[],n(this,i);var l=e.find((function(e){return e.keyname===i.keyname}));if(l){if(l.version!==this.version)throw new Error("You are trying to load multiple versions of the same mod");console.warn("Loading the same mod ("+l.keyname+") multiple times.")}else e.push(this),r(this,o(this)),s.then((function(){t(m),null==a||a.apply(m),Game.UpdateMenu(),t(null)}))}return i.prototype.render=function(){for(var e=document.createElement("div"),t=0,n=this.toggles;t<n.length;t++){var r=n[t];e.appendChild(r.render())}return e},i}();export{i as Mod};
