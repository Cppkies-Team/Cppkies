import"./tslib.es6-9a9d7607.js";import{mods as e}from"./vars.js";import{applyAllProps as t}from"./helpers.js";import"./lz-string.js";import{applyModSave as r,loadMod as i}from"./saves.js";import"./eventemitter.js";import"./generic.js";import"./buildings-2e5b77fa.js";import{deffer as n}from"./onLoad.js";var o=null,s=function(){function s(s,m){var l=this;this.modFunction=m,this.custom=null,this.toggles=[],t(this,s);var a=e.find((function(e){return e.keyname===s.keyname}));if(a){if(a.version!==this.version)throw new Error("You are trying to load multiple versions of the same mod");console.warn("Loading the same mod ("+a.keyname+") multiple times.")}else e.push(this),r(this,i(this)),n.then((function(){o=l,null==m||m.apply(l),Game.UpdateMenu(),o=null}))}return s.prototype.render=function(){for(var e=document.createElement("div"),t=0,r=this.toggles;t<r.length;t++){var i=r[t];e.appendChild(i.render())}return e},s}();export{s as Mod,o as currentMod};
