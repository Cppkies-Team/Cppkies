import"./tslib.es6-ac47674d.js";import{customTiers as i,setUnitOwner as t,miscValues as e}from"./vars.js";import{resolveAlias as n}from"./spritesheets.js";import"./helpers.js";import"./generic.js";import"./eventemitter.js";import"./buildings.js";import o from"./basegame.js";var r=function(o,r,s,a,c,l,u,h,m){var p;void 0===a&&(a=!1),void 0===c&&(c="auto"),void 0===l&&(l=null),void 0===u&&(u=null),void 0===h&&(h=null),void 0===m&&(m="auto"),this.name=o,this.color=s,this.achievUnlock=0,this.upgrades=[],this.unlock=0,this.special=a,t(this),this.keyName="auto"===m?a?o:(Object.keys(Game.Tiers).filter((function(i){return!isNaN(parseInt(i))})).length+1).toString():m,null===l&&(this.unlock=-1),"number"==typeof l&&(this.unlock=l),(!1===a&&null===l||"auto"===l)&&(this.unlock=Game.Tiers[parseInt(this.keyName)-1].unlock+50),"number"==typeof u&&(this.achievUnlock=u),(!1===a&&null===u||"auto"===u)&&(this.achievUnlock=Game.Tiers[parseInt(this.keyName)-1].achievUnlock+50),h&&(this.req=h),this.price="auto"===c?1e8*Game.Tiers[Object.keys(Game.Tiers).filter((function(i){return!isNaN(parseInt(i))})).length.toString()].price:c,this.iconRow=r[1],this.iconLink=n(null!==(p=r[2])&&void 0!==p?p:e.iconLink),Game.Tiers[this.keyName]=this,i.push(this)};o.on("getIcon",(function(t){var e=t.icon,n=t.type,o=t.tier;return i.forEach((function(i){i.keyName===o.toString()&&i.iconLink&&(e[2]=i.iconLink)})),{icon:e,type:n,tier:o}})),o.on("getIcon",(function(i){var t=i.icon,e=i.type,n=i.tier;return(void 0===t[2]||null===t[2])&&Game.Tiers[n.toString()]instanceof r&&(t[2]=""),{icon:t,tier:n,type:e}}));export default r;
