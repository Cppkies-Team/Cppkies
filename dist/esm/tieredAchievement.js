import{c as e}from"./tslib.es6-9a9d7607.js";import"./vars.js";import"./spritesheets.js";import"./helpers.js";import"./lz-string.js";import"./saves.js";import{Achievement as r}from"./baseAchievement.js";import"./generic.js";import"./eventemitter.js";import{buildingHooks as i}from"./buildings.js";var s=function(r){function s(e,s,t,a){var o=this,n="object"==typeof t?t:Game.Objects[t],m=null,c=-1;if(0===n.id){switch(a){case"cursor2":m=[0,6],c=2;break;case"cursor50":m=[1,6],c=50;break;default:if(Game.Tiers[a].achievUnlock<=0){console.warn("Tier has invalid unlock amount");break}c=1===a?1:2*Game.Tiers[a].achievUnlock}i.Cursor.on("buy",(function(){Game.Objects.Cursor.amount>=c&&Game.Win(o.name)}))}else c=Game.Tiers[a].achievUnlock;return o=r.call(this,e,"Have <b>"+c+"</b> "+(1===Math.abs(c)?n.single:n.plural)+"."+(s?"<q>"+s+"</q>":""),null!=m?m:Game.GetIcon(n.name,a))||this,Game.SetTier(n.name,"cursor2"===a||"cursor50"===a?1:a),n.tieredAchievs[a]=o,o.buildingTie=n,o.order=1e3+100*n.id+o.id/1e3,o.order-=75*Math.max(0,Math.min(n.id-4,3)),n.id>=8&&(o.order-=75),0===n.id&&(o.order+=50),o}return e(s,r),s}(r);export{s as TieredAchievement};
