import{b as t}from"./tslib.es6-9a9d7607.js";var r=function(){function r(){this._events={}}return r.prototype.on=function(t,r){if(this.forwardTo)return this.forwardTo.on(t,r);this._events[t]?this._events[t].push(r):this._events[t]=[r]},r.prototype.once=function(t,r){var e=this;this.on(t,(function(o){return e.off(t,r),r(o)}))},r.prototype.off=function(t,r){if(this.forwardTo)return this.forwardTo.off(t,r);this._events[t].splice(this._events[t].indexOf(r),1)},r.prototype.emit=function(r){for(var e,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];if(this.forwardTo)return(e=this.forwardTo).emit.apply(e,t([r],o));var s=o[0];this._events[r]||(this._events[r]=[]);for(var i=0,f=this._events[r];i<f.length;i++){var h=f[i];s=h(s)}return s},r.prototype.constEmit=function(r){for(var e,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];if(this.forwardTo)return(e=this.forwardTo).constEmit.apply(e,t([r],o));this._events[r]||(this._events[r]=[]);for(var s=0,i=this._events[r];s<i.length;s++){var f=i[s];f(o[0])}},r.prototype.setForwardTarget=function(t){var r;for(var e in this._events)t._events[e]?(r=t._events[e]).push.apply(r,this._events[e]):t._events[e]=Array.from(this._events[e]);this.forwardTo=t},r}();export{r as ReturnableEventEmitter};
